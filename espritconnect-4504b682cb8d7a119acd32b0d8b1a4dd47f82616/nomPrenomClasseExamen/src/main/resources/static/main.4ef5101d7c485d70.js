"use strict";(self.webpackChunkfirstProject=self.webpackChunkfirstProject||[]).push([[792],{941:()=>{function Re(t){return"function"==typeof t}function Sl(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Al=Sl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Js(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof Al?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{UT(s)}catch(o){e=e??[],o instanceof Al?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Al(e)}}add(e){var n;if(e&&e!==this)if(this.closed)UT(e);else{if(e instanceof Fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Js(n,e)}remove(e){const{_finalizers:n}=this;n&&Js(n,e),e instanceof Fn&&e._removeParent(this)}}Fn.EMPTY=(()=>{const t=new Fn;return t.closed=!0,t})();const VT=Fn.EMPTY;function BT(t){return t instanceof Fn||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function UT(t){Re(t)?t():t.unsubscribe()}const Ji={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ml={setTimeout(t,e,...n){const{delegate:r}=Ml;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ml;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jT(t){Ml.setTimeout(()=>{const{onUnhandledError:e}=Ji;if(!e)throw t;e(t)})}function $T(){}const TU=Kp("C",void 0,void 0);function Kp(t,e,n){return{kind:t,value:e,error:n}}let Xi=null;function xl(t){if(Ji.useDeprecatedSynchronousErrorHandling){const e=!Xi;if(e&&(Xi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Xi;if(Xi=null,n)throw r}}else t()}class Qp extends Fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,BT(e)&&e.add(this)):this.destination=RU}static create(e,n,r){return new Ha(e,n,r)}next(e){this.isStopped?Jp(function AU(t){return Kp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Jp(function SU(t){return Kp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jp(TU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xU=Function.prototype.bind;function Yp(t,e){return xU.call(t,e)}class NU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Nl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Nl(r)}else Nl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Nl(n)}}}class Ha extends Qp{constructor(e,n,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ji.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yp(e.next,s),error:e.error&&Yp(e.error,s),complete:e.complete&&Yp(e.complete,s)}):i=e}this.destination=new NU(i)}}function Nl(t){Ji.useDeprecatedSynchronousErrorHandling?function MU(t){Ji.useDeprecatedSynchronousErrorHandling&&Xi&&(Xi.errorThrown=!0,Xi.error=t)}(t):jT(t)}function Jp(t,e){const{onStoppedNotification:n}=Ji;n&&Ml.setTimeout(()=>n(t,e))}const RU={closed:!0,next:$T,error:function kU(t){throw t},complete:$T},Xp="function"==typeof Symbol&&Symbol.observable||"@@observable";function kl(t){return t}let _t=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function OU(t){return t&&t instanceof Qp||function PU(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}(t)&&BT(t)}(n)?n:new Ha(n,r,i);return xl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=GT(r))((i,s)=>{const o=new Ha({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Xp](){return this}pipe(...n){return function HT(t){return 0===t.length?kl:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=GT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function GT(t){var e;return null!==(e=t??Ji.Promise)&&void 0!==e?e:Promise}const FU=Sl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rl=(()=>{class t extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FU}next(n){xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?VT:(this.currentObservers=null,s.push(n),new Fn(()=>{this.currentObservers=null,Js(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new _t;return n.source=this,n}}return t.create=(e,n)=>new zT(e,n),t})();class zT extends Rl{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:VT}}function ai(t){return e=>{if(function LU(t){return Re(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tr(t,e,n,r,i){return new VU(t,e,n,r,i)}class VU extends Qp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Zp(t,e){return ai((n,r)=>{let i=0;n.subscribe(Tr(r,s=>{r.next(t.call(e,s,i++))}))})}function Pl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ui(t){return this instanceof ui?(this.v=t,this):new ui(t)}function QT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function rg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const YT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function JT(t){return Re(t?.then)}function XT(t){return Re(t[Xp])}function ZT(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function e0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const t0=function lj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function n0(t){return Re(t?.[t0])}function r0(t){return function KT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(y,I){s.push([f,m,y,I])>1||u(f,m)})},p&&(i[f]=p(i[f])))}function u(f,p){try{!function c(f){f.value instanceof ui?Promise.resolve(f.value.v).then(l,d):h(s[0][2],f)}(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){u("next",f)}function d(f){u("throw",f)}function h(f,p){f(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ui(n.read());if(i)return yield ui(void 0);yield yield ui(r)}}finally{n.releaseLock()}})}function s0(t){return Re(t?.getReader)}function Jn(t){if(t instanceof _t)return t;if(null!=t){if(XT(t))return function dj(t){return new _t(e=>{const n=t[Xp]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(YT(t))return function hj(t){return new _t(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(JT(t))return function fj(t){return new _t(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jT)})}(t);if(ZT(t))return o0(t);if(n0(t))return function pj(t){return new _t(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(s0(t))return function gj(t){return o0(r0(t))}(t)}throw e0(t)}function o0(t){return new _t(e=>{(function mj(t,e){var n,r,i,s;return function qT(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=QT(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ci(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function a0(t,e,n=1/0){return Re(e)?a0((r,i)=>Zp((s,o)=>e(r,s,i,o))(Jn(t(r,i))),n):("number"==typeof e&&(n=e),ai((r,i)=>function yj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Jn(n(m,l++)).subscribe(Tr(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?ci(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Tr(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const u0=new _t(t=>t.complete());function sg(t){return t[t.length-1]}function c0(t){return function wj(t){return t&&Re(t.schedule)}(sg(t))?t.pop():void 0}function Ol(t,e=0){return ai((n,r)=>{n.subscribe(Tr(r,i=>ci(r,t,()=>r.next(i),e),()=>ci(r,t,()=>r.complete(),e),i=>ci(r,t,()=>r.error(i),e)))})}function Fl(t,e=0){return ai((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function l0(t,e){if(!t)throw new Error("Iterable cannot be null");return new _t(n=>{ci(n,e,()=>{const r=t[Symbol.asyncIterator]();ci(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function og(t,e){return e?function Aj(t,e){if(null!=t){if(XT(t))return function Dj(t,e){return Jn(t).pipe(Fl(e),Ol(e))}(t,e);if(YT(t))return function Cj(t,e){return new _t(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(JT(t))return function bj(t,e){return Jn(t).pipe(Fl(e),Ol(e))}(t,e);if(ZT(t))return l0(t,e);if(n0(t))return function Tj(t,e){return new _t(n=>{let r;return ci(n,e,()=>{r=t[t0](),ci(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(t,e);if(s0(t))return function Sj(t,e){return l0(r0(t),e)}(t,e)}throw e0(t)}(t,e):Jn(t)}function Mj(...t){const e=c0(t),n=function Ej(t,e){return"number"==typeof sg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Jn(r[0]):function _j(t=1/0){return a0(kl,t)}(n)(og(r,e)):u0}class xj extends Rl{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function d0(t={}){const{connector:e=(()=>new Rl),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return ai((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=ag(p,i))}),I.subscribe(y),!o&&c>0&&(o=new Ha({next:_=>I.next(_),error:_=>{d=!0,h(),a=ag(f,n,_),I.error(_)},complete:()=>{l=!0,h(),a=ag(f,r),I.complete()}}),Jn(m).subscribe(o))})(s)}}function ag(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ha({next:()=>{r.unsubscribe(),t()}});return Jn(e(...n)).subscribe(r)}function Pj(t,e){return t===e}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function Ll(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ug(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Oj=ge({__forward_ref__:ge});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return st(this())},t}function H(t){return cg(t)?t():t}function cg(t){return"function"==typeof t&&t.hasOwnProperty(Oj)&&t.__forward_ref__===Ee}function lg(t){return t&&!!t.\u0275providers}class S extends Error{constructor(e,n){super(function Vl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function q(t){return"string"==typeof t?t:null==t?"":String(t)}function dg(t,e){throw new S(-201,!1)}function Sn(t,e){null==t&&function j(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bl(t){return f0(t,jl)||f0(t,p0)}function f0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ul(t){return t&&(t.hasOwnProperty(hg)||t.hasOwnProperty($j))?t[hg]:null}const jl=ge({\u0275prov:ge}),hg=ge({\u0275inj:ge}),p0=ge({ngInjectableDef:ge}),$j=ge({ngInjectorDef:ge});var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{});let fg;function sn(t){const e=fg;return fg=t,e}function m0(t,e,n){const r=Bl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&re.Optional?null:void 0!==e?e:void dg(st(t))}const De=globalThis;class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ga={},_g="__NG_DI_FLAG__",$l="ngTempTokenPath",zj=/\n/gm,_0="__source";let Xs;function li(t){const e=Xs;return Xs=t,e}function Kj(t,e=re.Default){if(void 0===Xs)throw new S(-203,!1);return null===Xs?m0(t,void 0,e):Xs.get(t,e&re.Optional?null:void 0,e)}function ee(t,e=re.Default){return(function g0(){return fg}()||Kj)(H(t),e)}function ve(t,e=re.Default){return ee(t,Hl(e))}function Hl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vg(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Qj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ee(i,s))}else e.push(ee(r))}return e}function za(t,e){return t[_g]=e,t.prototype[_g]=e,t}function Qj(t){return t[_g]}function Sr(t){return{toString:t}.toString()}var Gl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gl||{}),Vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vn||{});const Xn={},le=[],zl=ge({\u0275cmp:ge}),wg=ge({\u0275dir:ge}),Ig=ge({\u0275pipe:ge}),w0=ge({\u0275mod:ge}),Ar=ge({\u0275fac:ge}),qa=ge({__NG_ELEMENT_ID__:ge}),I0=ge({__NG_ENV_ID__:ge});function E0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Eg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];b0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function D0(t){return 3===t||4===t||6===t}function b0(t){return 64===t.charCodeAt(0)}function Wa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||C0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function C0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const T0="ng-template";function Xj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==E0(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function S0(t){return 4===t.type&&t.value!==T0}function Zj(t,e,n){return e===(4!==t.type||n?t.value:T0)}function e$(t,e,n){let r=4;const i=t.attrs||[],s=function r$(t){for(let e=0;e<t.length;e++)if(D0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Zj(t,u,n)||""===u&&1===e.length){if(Bn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Xj(t.attrs,c,n)){if(Bn(r))return!1;o=!0}continue}const d=t$(8&r?"class":u,i,S0(t),n);if(-1===d){if(Bn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==E0(f,c,0)||2&r&&c!==h){if(Bn(r))return!1;o=!0}}}}else{if(!o&&!Bn(r)&&!Bn(u))return!1;if(o&&Bn(u))continue;o=!1,r=u|1&r}}return Bn(r)||o}function Bn(t){return 0==(1&t)}function t$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function i$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function A0(t,e,n=!1){for(let r=0;r<e.length;r++)if(e$(t,e[r],n))return!0;return!1}function M0(t,e){return t?":not("+e.trim()+")":e}function o$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Bn(o)&&(e+=M0(s,i),i=""),r=o,s=s||!Bn(r);n++}return""!==i&&(e+=M0(s,i)),e}function Zs(t){return Sr(()=>{const e=N0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vn.Emulated,styles:t.styles||le,_:null,schemas:t.schemas||null,tView:null,id:""};k0(n);const r=t.dependencies;return n.directiveDefs=ql(r,!1),n.pipeDefs=ql(r,!0),n.id=function p$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function l$(t){return se(t)||vt(t)}function d$(t){return null!==t}function Zn(t){return Sr(()=>({type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function x0(t,e){if(null==t)return Xn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return Sr(()=>{const e=N0(t);return k0(e),e})}function se(t){return t[zl]||null}function vt(t){return t[wg]||null}function zt(t){return t[Ig]||null}function N0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:x0(t.inputs,e),outputs:x0(t.outputs)}}function k0(t){t.features?.forEach(e=>e(t))}function ql(t,e){if(!t)return null;const n=e?zt:l$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(d$)}const Ue=0,k=1,X=2,Pe=3,Un=4,Qa=5,xt=6,eo=7,qe=8,di=9,to=10,W=11,Ya=12,R0=13,no=14,We=15,Ja=16,ro=17,er=18,Xa=19,P0=20,hi=21,Mr=22,Za=23,eu=24,te=25,Dg=1,O0=2,tr=7,io=9,wt=11;function an(t){return Array.isArray(t)&&"object"==typeof t[Dg]}function qt(t){return Array.isArray(t)&&!0===t[Dg]}function bg(t){return 0!=(4&t.flags)}function es(t){return t.componentOffset>-1}function Kl(t){return 1==(1&t.flags)}function jn(t){return!!t.template}function Cg(t){return 0!=(512&t[X])}function ts(t,e){return t.hasOwnProperty(Ar)?t[Ar]:null}let It=null,Ql=!1;function An(t){const e=It;return It=t,e}const V0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function U0(t){if(!nu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!H0(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function $0(t){t.dirty=!0,function j0(t){if(void 0===t.liveConsumerNode)return;const e=Ql;Ql=!0;try{for(const n of t.liveConsumerNode)n.dirty||$0(n)}finally{Ql=e}}(t),t.consumerMarkedDirty?.(t)}function Sg(t){return t&&(t.nextProducerIndex=0),An(t)}function Ag(t,e){if(An(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(nu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function H0(t){so(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(U0(n),r!==n.version))return!0}return!1}function G0(t){if(so(t),nu(t))for(let e=0;e<t.producerNode.length;e++)Yl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yl(t,e){if(function q0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),so(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Yl(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];so(i),i.producerIndexOfThis[r]=e}}function nu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function so(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let W0=null;const J0=()=>{},S$=(()=>({...V0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:J0}))();class A${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xr(){return X0}function X0(t){return t.type.prototype.ngOnChanges&&(t.setInput=x$),M$}function M$(){const t=eS(this),e=t?.current;if(e){const n=t.previous;if(n===Xn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function x$(t,e,n,r){const i=this.declaredInputs[n],s=eS(t)||function N$(t,e){return t[Z0]=e}(t,{previous:Xn,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new A$(u&&u.currentValue,e,a===Xn),t[r]=e}xr.ngInherit=!0;const Z0="__ngSimpleChanges__";function eS(t){return t[Z0]||null}const nr=function(t,e,n){};function be(t){for(;Array.isArray(t);)t=t[Ue];return t}function Jl(t,e){return be(e[t])}function un(t,e){return be(e[t.index])}function rS(t,e){return t.data[e]}function _n(t,e){const n=e[t];return an(n)?n:n[Ue]}function pi(t,e){return null==e?null:t[e]}function iS(t){t[ro]=0}function L$(t){1024&t[X]||(t[X]|=1024,oS(t,1))}function sS(t){1024&t[X]&&(t[X]&=-1025,oS(t,-1))}function oS(t,e){let n=t[Pe];if(null===n)return;n[Qa]+=e;let r=n;for(n=n[Pe];null!==n&&(1===e&&1===r[Qa]||-1===e&&0===r[Qa]);)n[Qa]+=e,r=n,n=n[Pe]}const $={lFrame:yS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cS(){return $.bindingsEnabled}function E(){return $.lFrame.lView}function oe(){return $.lFrame.tView}function Et(){let t=lS();for(;null!==t&&64===t.type;)t=t.parent;return t}function lS(){return $.lFrame.currentTNode}function rr(t,e){const n=$.lFrame;n.currentTNode=t,n.isParent=e}function Rg(){return $.lFrame.isParent}function uo(){return $.lFrame.bindingIndex++}function J$(t,e){const n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,Og(e)}function Og(t){$.lFrame.currentDirectiveIndex=t}function Lg(t){$.lFrame.currentQueryIndex=t}function Z$(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[xt]:null}function gS(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&re.Host||(i=Z$(s),null===i||(s=s[no],10&i.type))););if(null===i)return!1;e=i,t=s}const r=$.lFrame=mS();return r.currentTNode=e,r.lView=t,!0}function Vg(t){const e=mS(),n=t[k];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mS(){const t=$.lFrame,e=null===t?null:t.child;return null===e?yS(t):e}function yS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function _S(){const t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vS=_S;function Bg(){const t=_S();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return $.lFrame.selectedIndex}function ns(t){$.lFrame.selectedIndex=t}let IS=!0;function Xl(){return IS}function gi(t){IS=t}function Zl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function ed(t,e,n){ES(t,e,3,n)}function td(t,e,n,r){(3&t[X])===n&&ES(t,e,n,r)}function Ug(t,e){let n=t[X];(3&n)===e&&(n&=8191,n+=1,t[X]=n)}function ES(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ro]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ro]+=65536),(a<s||-1==s)&&(aH(t,n,e,u),t[ro]=(4294901760&t[ro])+u+2),u++}function DS(t,e){nr(4,t,e);const n=An(null);try{e.call(t)}finally{An(n),nr(5,t,e)}}function aH(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[X]>>13<t[ro]>>16&&(3&t[X])===e&&(t[X]+=8192,DS(a,s)):DS(a,s)}const co=-1;class iu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $g(t){return t!==co}function su(t){return 32767&t}function ou(t,e){let n=function dH(t){return t>>16}(t),r=e;for(;n>0;)r=r[no],n--;return r}let Hg=!0;function nd(t){const e=Hg;return Hg=t,e}const bS=255,CS=5;let hH=0;const ir={};function rd(t,e){const n=TS(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Gg(r.data,t),Gg(e,null),Gg(r.blueprint,null));const i=id(t,e),s=t.injectorIndex;if($g(i)){const o=su(i),a=ou(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Gg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function TS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function id(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=RS(i),null===r)return co;if(n++,i=i[no],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return co}function zg(t,e,n){!function fH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qa)&&(r=n[qa]),null==r&&(r=n[qa]=hH++);const i=r&bS;e.data[t+(i>>CS)]|=1<<i}(t,e,n)}function SS(t,e,n){if(n&re.Optional||void 0!==t)return t;dg()}function AS(t,e,n,r){if(n&re.Optional&&void 0===r&&(r=null),!(n&(re.Self|re.Host))){const i=t[di],s=sn(void 0);try{return i?i.get(e,r,n&re.Optional):m0(e,r,n&re.Optional)}finally{sn(s)}}return SS(r,0,n)}function MS(t,e,n,r=re.Default,i){if(null!==t){if(2048&e[X]&&!(r&re.Self)){const o=function vH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[X]&&!(512&o[X]);){const a=xS(s,o,n,r|re.Self,ir);if(a!==ir)return a;let u=s.parent;if(!u){const c=o[P0];if(c){const l=c.get(n,ir,r);if(l!==ir)return l}u=RS(o),o=o[no]}s=u}return i}(t,e,n,r,ir);if(o!==ir)return o}const s=xS(t,e,n,r,ir);if(s!==ir)return s}return AS(e,n,r,i)}function xS(t,e,n,r,i){const s=function mH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qa)?t[qa]:void 0;return"number"==typeof e?e>=0?e&bS:_H:e}(n);if("function"==typeof s){if(!gS(e,t,r))return r&re.Host?SS(i,0,r):AS(e,n,r,i);try{let o;if(o=s(r),null!=o||r&re.Optional)return o;dg()}finally{vS()}}else if("number"==typeof s){let o=null,a=TS(t,e),u=co,c=r&re.Host?e[We][xt]:null;for((-1===a||r&re.SkipSelf)&&(u=-1===a?id(t,e):e[a+8],u!==co&&kS(r,!1)?(o=e[k],a=su(u),e=ou(u,e)):a=-1);-1!==a;){const l=e[k];if(NS(s,a,l.data)){const d=gH(a,e,n,o,r,c);if(d!==ir)return d}u=e[a+8],u!==co&&kS(r,e[k].data[a+8]===c)&&NS(s,a,e)?(o=l,a=su(u),e=ou(u,e)):a=-1}}return i}function gH(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function sd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&jn(f)&&f.type===n)return u}return null}(a,o,n,null==r?es(a)&&Hg:r!=o&&0!=(3&a.type),i&re.Host&&s===a);return null!==l?rs(e,o,l,a):ir}function rs(t,e,n,r){let i=t[n];const s=e.data;if(function uH(t){return t instanceof iu}(i)){const o=i;o.resolving&&function Fj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():q(t)}(s[n]));const a=nd(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?sn(o.injectImpl):null;gS(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function oH(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=X0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&sn(c),nd(a),o.resolving=!1,vS()}}return i}function NS(t,e,n){return!!(n[e+(t>>CS)]&1<<t)}function kS(t,e){return!(t&re.Self||t&re.Host&&e)}class Qt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MS(this._tNode,this._lView,e,Hl(r),n)}}function _H(){return new Qt(Et(),E())}function qg(t){return cg(t)?()=>{const e=qg(H(t));return e&&e()}:ts(t)}function RS(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[xt]:null}const ho="__parameters__";function po(t,e,n){return Sr(()=>{const r=function Kg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ho)?u[ho]:Object.defineProperty(u,ho,{value:[]})[ho];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function mo(t,e){t.forEach(n=>Array.isArray(n)?mo(n,e):e(n))}function OS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function od(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vn(t,e,n){let r=yo(t,e);return r>=0?t[1|r]=n:(r=~r,function TH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Qg(t,e){const n=yo(t,e);if(n>=0)return t[1|n]}function yo(t,e){return function FS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wn=za(po("Optional"),8);function hd(t){return 128==(128&t.flags)}var mi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mi||{});const tm=new Map;let YH=0;const rm="__ngContext__";function kt(t,e){an(e)?(t[rm]=e[Xa],function XH(t){tm.set(t[Xa],t)}(e)):t[rm]=e}let im;function sm(t,e){return im(t,e)}function hu(t){const e=t[Pe];return qt(e)?e[Pe]:e}function nA(t){return iA(t[Ya])}function rA(t){return iA(t[Un])}function iA(t){for(;null!==t&&!qt(t);)t=t[Un];return t}function wo(t,e,n,r,i){if(null!=r){let s,o=!1;qt(r)?s=r:an(r)&&(o=!0,r=r[Ue]);const a=be(r);0===t&&null!==n?null==i?uA(e,n,a):is(e,n,a,i||null,!0):1===t&&null!==n?is(e,n,a,i||null,!0):2===t?function vd(t,e,n){const r=yd(t,e);r&&function yG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function wG(t,e,n,r,i){const s=n[tr];s!==be(n)&&wo(e,t,r,s,i);for(let a=wt;a<n.length;a++){const u=n[a];pu(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function gd(t,e,n){return t.createElement(e,n)}function oA(t,e){const n=t[io],r=n.indexOf(e);sS(e),n.splice(r,1)}function md(t,e){if(t.length<=wt)return;const n=wt+e,r=t[n];if(r){const i=r[Ja];null!==i&&i!==t&&oA(i,r),e>0&&(t[n-1][Un]=r[Un]);const s=od(t,wt+e);!function cG(t,e){pu(t,e,e[W],2,null,null),e[Ue]=null,e[xt]=null}(r[k],r);const o=s[er];null!==o&&o.detachView(s[k]),r[Pe]=null,r[Un]=null,r[X]&=-129}return r}function am(t,e){if(!(256&e[X])){const n=e[W];e[Za]&&G0(e[Za]),e[eu]&&G0(e[eu]),n.destroyNode&&pu(t,e,n,3,null,null),function hG(t){let e=t[Ya];if(!e)return um(t[k],t);for(;e;){let n=null;if(an(e))n=e[Ya];else{const r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[Un]&&e!==t;)an(e)&&um(e[k],e),e=e[Pe];null===e&&(e=t),an(e)&&um(e[k],e),n=e&&e[Un]}e=n}}(e)}}function um(t,e){if(!(256&e[X])){e[X]&=-129,e[X]|=256,function mG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof iu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];nr(4,a,u);try{u.call(a)}finally{nr(5,a,u)}}else{nr(4,i,s);try{s.call(i)}finally{nr(5,i,s)}}}}}(t,e),function gG(t,e){const n=t.cleanup,r=e[eo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[eo]=null);const i=e[hi];if(null!==i){e[hi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[W].destroy();const n=e[Ja];if(null!==n&&qt(e[Pe])){n!==e[Pe]&&oA(n,e);const r=e[er];null!==r&&r.detachView(t)}!function ZH(t){tm.delete(t[Xa])}(e)}}function cm(t,e,n){return function aA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ue];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Vn.None||s===Vn.Emulated)return null}return un(r,n)}}(t,e.parent,n)}function is(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uA(t,e,n){t.appendChild(e,n)}function cA(t,e,n,r,i){null!==r?is(t,e,n,r,i):uA(t,e,n)}function yd(t,e){return t.parentNode(e)}let lm,pm,hA=function dA(t,e,n){return 40&t.type?un(t,n):null};function _d(t,e,n,r){const i=cm(t,r,e),s=e[W],a=function lA(t,e,n){return hA(t,e,n)}(r.parent||e[xt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)cA(s,i,n[u],a,!1);else cA(s,i,n,a,!1);void 0!==lm&&lm(s,r,e,n,i)}function fu(t,e){if(null!==e){const n=e.type;if(3&n)return un(e,t);if(4&n)return dm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return fu(t,r);{const i=t[e.index];return qt(i)?dm(-1,i):be(i)}}if(32&n)return sm(e,t)()||be(t[e.index]);{const r=pA(t,e);return null!==r?Array.isArray(r)?r[0]:fu(hu(t[We]),r):fu(t,e.next)}}return null}function pA(t,e){return null!==e?t[We][xt].projection[e.projection]:null}function dm(t,e){const n=wt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return fu(r,i)}return e[tr]}function hm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&kt(be(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)hm(t,e,n.child,r,i,s,!1),wo(e,t,i,a,s);else if(32&u){const c=sm(n,r);let l;for(;l=c();)wo(e,t,i,l,s);wo(e,t,i,a,s)}else 16&u?mA(t,e,r,n,i,s):wo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function pu(t,e,n,r,i,s){hm(n,r,t.firstChild,e,i,s,!1)}function mA(t,e,n,r,i,s){const o=n[We],u=o[xt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)wo(e,t,i,u[c],s);else{let c=u;const l=o[Pe];hd(r)&&(c.flags|=128),hm(t,e,c,l,i,s,!0)}}function yA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _A(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Eg(t,e,r),null!==i&&yA(t,e,i),null!==s&&function EG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class EA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Dd=new V("ENVIRONMENT_INITIALIZER"),NA=new V("INJECTOR",-1),kA=new V("INJECTOR_DEF_TYPES");class wm{get(e,n=Ga){if(n===Ga){const r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}}function YG(...t){return{\u0275providers:PA(0,t),\u0275fromNgModule:!0}}function PA(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return mo(e,o=>{const a=o;bd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&OA(i,s),n}function OA(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Im(i,s=>{e(s,r)})}}function bd(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=Ul(t);const o=!s&&se(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Ul(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)bd(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{mo(s.imports,l=>{bd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&OA(c,e)}if(!a){const c=ts(i)||(()=>new i);e({provide:i,useFactory:c,deps:le},i),e({provide:kA,useValue:i,multi:!0},i),e({provide:Dd,useValue:()=>ee(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Im(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Im(t,e){for(let n of t)lg(n)&&(n=n.\u0275providers),Array.isArray(n)?Im(n,e):e(n)}const JG=ge({provide:String,useValue:ge});function Em(t){return null!==t&&"object"==typeof t&&JG in t}function ss(t){return"function"==typeof t}const Dm=new V("Set Injector scope."),Cd={},ZG={};let bm;function Td(){return void 0===bm&&(bm=new wm),bm}class Pr{}class bo extends Pr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tm(e,o=>this.processProvider(o)),this.records.set(NA,Co(void 0,this)),i.has("environment")&&this.records.set(Pr,Co(void 0,this));const s=this.records.get(Dm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kA.multi,le,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=li(this),r=sn(void 0);try{return e()}finally{li(n),sn(r)}}get(e,n=Ga,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(I0))return e[I0](this);r=Hl(r);const s=li(this),o=sn(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function i4(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Bl(e);u=c&&this.injectableDefInScope(c)?Co(Cm(e),Cd):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&re.Self?Td():this.parent).get(e,n=r&re.Optional&&n===Ga?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[$l]=a[$l]||[]).unshift(st(e)),s)throw a;return function Yj(t,e,n,r){const i=t[$l];throw e[_0]&&i.unshift(e[_0]),t.message=function Jj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):st(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[$l]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{sn(o),li(s)}}resolveInjectorInitializers(){const e=li(this),n=sn(void 0);try{const i=this.get(Dd.multi,le,re.Self);for(const s of i)s()}finally{li(e),sn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=ss(e=H(e))?e:H(e&&e.provide);const r=function t4(t){return Em(t)?Co(void 0,t.useValue):Co(VA(t),Cd)}(e);if(ss(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Co(void 0,Cd,!0),i.factory=()=>vg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Cd&&(n.value=ZG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function r4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cm(t){const e=Bl(t),n=null!==e?e.factory:ts(t);if(null!==n)return n;if(t instanceof V)throw new S(204,!1);if(t instanceof Function)return function e4(t){const e=t.length;if(e>0)throw function cu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function jj(t){return t&&(t[jl]||t[p0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function VA(t,e,n){let r;if(ss(t)){const i=H(t);return ts(i)||Cm(i)}if(Em(t))r=()=>H(t.useValue);else if(function LA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...vg(t.deps||[]));else if(function FA(t){return!(!t||!t.useExisting)}(t))r=()=>ee(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function n4(t){return!!t.deps}(t))return ts(i)||Cm(i);r=()=>new i(...vg(t.deps))}return r}function Co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Tm(t,e){for(const n of t)Array.isArray(n)?Tm(n,e):n&&lg(n)?Tm(n.\u0275providers,e):e(n)}const Sd=new V("AppId",{providedIn:"root",factory:()=>s4}),s4="ng",BA=new V("Platform Initializer"),_i=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UA=new V("CSP nonce",{providedIn:"root",factory:()=>function Eo(){if(void 0!==pm)return pm;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jA=(t,e,n)=>null;function Pm(t,e,n=!1){return jA(t,e,n)}class g4{}class GA{}class y4{resolveComponentFactory(e){throw function m4(t){const e=Error(`No component factory found for ${st(t)}.`);return e.ngComponent=t,e}(e)}}let Rd=(()=>{class t{static{this.NULL=new y4}}return t})();function _4(){return Ao(Et(),E())}function Ao(t,e){return new $n(un(t,e))}let $n=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=_4}}return t})();class qA{}let os=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function w4(){const t=E(),n=_n(Et().index,t);return(an(n)?n:t)[W]}()}}return t})(),I4=(()=>{class t{static{this.\u0275prov=pe({token:t,providedIn:"root",factory:()=>null})}}return t})();class wu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WA=new wu("16.2.12"),Lm={};function JA(t,e=null,n=null,r){const i=XA(t,e,n,r);return i.resolveInjectorInitializers(),i}function XA(t,e=null,n=null,r,i=new Set){const s=[n||le,YG(t)];return r=r||("object"==typeof t?void 0:st(t)),new bo(s,e||Td(),r||null,i)}let In=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ga}static{this.NULL=new wm}static create(n,r){if(Array.isArray(n))return JA({name:""},r,n,"");{const i=n.name??"";return JA({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=pe({token:t,providedIn:"any",factory:()=>ee(NA)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Bm(t){return t.ngOriginalError}class Or{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bm(e);for(;n&&Bm(n);)n=Bm(n);return n||null}}function Um(t){return e=>{setTimeout(t,void 0,e)}}const Rt=class M4 extends Rl{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Um(s),i&&(i=Um(i)),o&&(o=Um(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fn&&e.add(a),a}};function eM(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function x4(){const t="function"==typeof De.requestAnimationFrame;let e=De[t?"requestAnimationFrame":"setTimeout"],n=De[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function R4(t){const e=()=>{!function k4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(De,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$m(t),t.isCheckStableRunning=!0,jm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$m(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function O4(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return tM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return tM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,$m(t),jm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N4,eM,eM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const N4={};function jm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $m(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nM(t){t._nesting--,jm(t)}class P4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const rM=new V("",{providedIn:"root",factory:iM});function iM(){const t=ve(Ae);let e=!0;return Mj(new _t(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new _t(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(d0()))}let Hm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Iu(t){for(;t;){t[X]|=64;const e=hu(t);if(Cg(t)&&!e)return t;t=e}return null}const cM=new V("",{providedIn:"root",factory:()=>!1});let Fd=null;function fM(t,e){return t[e]??mM()}function pM(t,e){const n=mM();n.producerNode?.length&&(t[e]=Fd,n.lView=t,Fd=gM())}const z4={...V0,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Iu(t.lView)},lView:null};function gM(){return Object.create(z4)}function mM(){return Fd??=gM(),Fd}const Y={};function sr(t){yM(oe(),E(),Kt()+t,!1)}function yM(t,e,n,r){if(!r)if(3==(3&e[X])){const s=t.preOrderCheckHooks;null!==s&&ed(e,s,n)}else{const s=t.preOrderHooks;null!==s&&td(e,s,0,n)}ns(n)}function T(t,e=re.Default){const n=E();return null===n?ee(t,e):MS(Et(),n,H(t),e)}function Ld(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ue]=i,d[X]=140|r,(null!==c||t&&2048&t[X])&&(d[X]|=2048),iS(d),d[Pe]=d[no]=t,d[qe]=n,d[to]=o||t&&t[to],d[W]=a||t&&t[W],d[di]=u||t&&t[di]||null,d[xt]=s,d[Xa]=function JH(){return YH++}(),d[Mr]=l,d[P0]=c,d[We]=2==e.type?t[We]:d,d}function No(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Gm(t,e,n,r,i){const s=lS(),o=Rg(),u=t.data[e]=function e3(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ao(){return null!==$.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Y$(){return $.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ru(){const t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rr(s,!0),s}function Eu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _M(t,e,n,r,i){const s=fM(e,Za),o=Kt(),a=2&r;try{ns(-1),a&&e.length>te&&yM(t,e,te,!1),nr(a?2:0,i);const c=a?s:null,l=Sg(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Ag(c,l)}}finally{a&&null===e[Za]&&pM(e,Za),ns(o),nr(a?3:1,i)}}function zm(t,e,n){if(bg(e)){const r=An(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{An(r)}}}function qm(t,e,n){cS()&&(function a3(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;es(n)&&function p3(t,e,n){const r=un(e,t),i=vM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Vd(t,Ld(t,i,null,o,r,e,null,t[to].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rd(n,e),kt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=rs(e,t,a,n);kt(c,e),null!==o&&g3(0,a-i,c,u,0,o),jn(u)&&(_n(n.index,e)[qe]=rs(e,t,a,n))}}(t,e,n,un(n,e)),64==(64&n.flags)&&bM(t,e,n))}function Wm(t,e,n=un){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function vM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Km(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Km(t,e,n,r,i,s,o,a,u,c,l){const d=te+r,h=d+i,f=function K4(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Y);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let wM=t=>null;function IM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?EM(n,e,i,s):r.hasOwnProperty(i)&&EM(n,e,r[i],s)}return n}function EM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Qm(t,e,n,r){if(cS()){const i=null===r?null:{"":-1},s=function c3(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(A0(e,o.selectors,!1))if(r||(r=[]),jn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ym(t,e,a.length)}else r.unshift(o),Ym(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&DM(t,e,n,o,i,a),i&&function l3(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Wa(n.mergedAttrs,n.attrs)}function DM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)zg(rd(n,e),t,r[c].type);!function h3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Eu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Wa(n.mergedAttrs,l.hostAttrs),f3(t,n,e,u,l),d3(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function t3(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=IM(d.inputs,l,u,h?h.inputs:null),c=IM(d.outputs,l,c,p);const m=null===u||null===o||S0(e)?null:m3(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function bM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function X$(){return $.lFrame.currentDirectiveIndex}();try{ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Og(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&u3(u,c)}}finally{ns(-1),Og(o)}}function u3(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ym(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function d3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;jn(e)&&(n[""]=t)}}function f3(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ts(i.type)),o=new iu(s,jn(i),T);t.blueprint[r]=o,n[r]=o,function s3(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function o3(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Eu(t,n,i.hostVars,Y),i)}function g3(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)CM(r,n,o[a++],o[a++],o[a++])}function CM(t,e,n,r,i){const s=An(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{An(s)}}function m3(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function TM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function SM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Lg(n[r]),o.contentQueries(2,e[s],s)}}}function Vd(t,e){return t[Ya]?t[R0][Un]=e:t[Ya]=e,t[R0]=e,e}function Xm(t,e,n){Lg(0);const r=An(null);try{e(t,n)}finally{An(r)}}function NM(t,e){const n=t[di],r=n?n.get(Or,null):null;r&&r.handleError(e)}function Zm(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];CM(t.data[o],e[o],r,a,i)}}function y3(t,e){const n=_n(e,t),r=n[k];!function _3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ue];null!==i&&null===n[Mr]&&(n[Mr]=Pm(i,n[di])),ey(r,n,n[qe])}function ey(t,e,n){Vg(e);try{const r=t.viewQuery;null!==r&&Xm(1,r,n);const i=t.template;null!==i&&_M(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&SM(t,e),t.staticViewQueries&&Xm(2,t.viewQuery,n);const s=t.components;null!==s&&function v3(t,e){for(let n=0;n<e.length;n++)y3(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,Bg()}}let kM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function T$(t,e,n){const r=Object.create(S$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>$0(r),run:()=>{if(r.dirty=!1,r.hasRun&&!H0(r))return;r.hasRun=!0;const o=Sg(r);try{r.cleanupFn(),r.cleanupFn=J0,r.fn(i)}finally{Ag(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Bd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ug(i,a):2==s&&(r=ug(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Du(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(be(s)),qt(s)&&RM(s,r);const o=n.type;if(8&o)Du(t,e,n.child,r);else if(32&o){const a=sm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=pA(e,n);if(Array.isArray(a))r.push(...a);else{const u=hu(e[We]);Du(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RM(t,e){for(let n=wt;n<t.length;n++){const r=t[n],i=r[k].firstChild;null!==i&&Du(r[k],r,i,e)}t[tr]!==t[Ue]&&e.push(t[tr])}function Ud(t,e,n,r=!0){const i=e[to],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{PM(t,e,t.template,n)}catch(u){throw r&&NM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function PM(t,e,n,r){const i=e[X];if(256!=(256&i)){e[to].effectManager?.flush(),Vg(e);try{iS(e),function hS(t){return $.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_M(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&ed(e,c,null)}else{const c=t.preOrderHooks;null!==c&&td(e,c,0,null),Ug(e,0)}if(function E3(t){for(let e=nA(t);null!==e;e=rA(e)){if(!e[O0])continue;const n=e[io];for(let r=0;r<n.length;r++){L$(n[r])}}}(e),OM(e,2),null!==t.contentQueries&&SM(t,e),o){const c=t.contentCheckHooks;null!==c&&ed(e,c)}else{const c=t.contentHooks;null!==c&&td(e,c,1),Ug(e,1)}!function W4(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=fM(e,eu);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ns(~s);else{const o=s,a=n[++i],u=n[++i];J$(a,o),r.dirty=!1;const c=Sg(r);try{u(2,e[o])}finally{Ag(r,c)}}}}finally{null===e[eu]&&pM(e,eu),ns(-1)}}(t,e);const a=t.components;null!==a&&LM(e,a,0);const u=t.viewQuery;if(null!==u&&Xm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&ed(e,c)}else{const c=t.viewHooks;null!==c&&td(e,c,2),Ug(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[X]&=-73,sS(e)}finally{Bg()}}}function OM(t,e){for(let n=nA(t);null!==n;n=rA(n))for(let r=wt;r<n.length;r++)FM(n[r],e)}function D3(t,e,n){FM(_n(e,t),n)}function FM(t,e){if(!function O$(t){return 128==(128&t[X])}(t))return;const n=t[k],r=t[X];if(80&r&&0===e||1024&r||2===e)PM(n,t,n.template,t[qe]);else if(t[Qa]>0){OM(t,1);const i=n.components;null!==i&&LM(t,i,1)}}function LM(t,e,n){for(let r=0;r<e.length;r++)D3(t,e[r],n)}class bu{get rootNodes(){const e=this._lView,n=e[k];return Du(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qe]}set context(e){this._lView[qe]=e}get destroyed(){return 256==(256&this._lView[X])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Pe];if(qt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(md(e,r),od(n,r))}this._attachedToViewContainer=!1}am(this._lView[k],this._lView)}onDestroy(e){!function aS(t,e){if(256==(256&t[X]))throw new S(911,!1);null===t[hi]&&(t[hi]=[]),t[hi].push(e)}(this._lView,e)}markForCheck(){Iu(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){this._lView[X]|=128}detectChanges(){Ud(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dG(t,e){pu(t,e,e[W],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class b3 extends bu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ud(e[k],e,e[qe],!1)}checkNoChanges(){}get context(){return null}}class VM extends Rd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=se(e);return new Cu(n,this.ngModule)}}function BM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class T3{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hl(r);const i=this.injector.get(e,Lm,r);return i!==Lm||n===Lm?i:this.parentInjector.get(e,n,r)}}class Cu extends GA{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=BM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return BM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function a$(t){return t.map(o$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Pr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new T3(e,s):e,a=o.get(qA,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:o.get(I4,null),effectManager:o.get(kM,null),afterRenderEventManager:o.get(Hm,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Q4(t,e,n,r){const s=r.get(cM,!1)||n===Vn.ShadowDom,o=t.selectRootElement(e,s);return function Y4(t){wM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):gd(h,f,function C3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Pm(p,o,!0));const b=Km(0,null,null,1,0,null,null,null,null,null,null),R=Ld(null,b,null,I,null,null,d,h,o,null,_);let F,J;Vg(R);try{const Ie=this.componentDef;let Gt,Cr=null;Ie.findHostDirectiveDefs?(Gt=[],Cr=new Map,Ie.findHostDirectiveDefs(Ie,Gt,Cr),Gt.push(Ie)):Gt=[Ie];const LT=function A3(t,e){const n=t[k],r=te;return t[r]=e,No(n,r,2,"#host",null)}(R,p),Gae=function M3(t,e,n,r,i,s,o){const a=i[k];!function x3(t,e,n,r){for(const i of t)e.mergedAttrs=Wa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Bd(e,e.mergedAttrs,!0),null!==n&&_A(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Pm(e,i[di]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Ld(i,vM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Ym(a,t,r.length-1),Vd(i,d),i[t.index]=d}(LT,p,Ie,Gt,R,d,h);J=rS(b,te),p&&function k3(t,e,n,r){if(r)Eg(t,n,["ng-version",WA.full]);else{const{attrs:i,classes:s}=function u$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Bn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Eg(t,n,i),s&&s.length>0&&yA(t,n,s.join(" "))}}(h,Ie,p,r),void 0!==n&&function R3(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(J,this.ngContentSelectors,n),F=function N3(t,e,n,r,i,s){const o=Et(),a=i[k],u=un(o,i);DM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)kt(rs(i,a,o.directiveStart+l,o),i);bM(a,i,o),u&&kt(u,i);const c=rs(i,a,o.directiveStart+o.componentOffset,o);if(t[qe]=i[qe]=c,null!==s)for(const l of s)l(c,e);return zm(a,o,t),c}(Gae,Ie,Gt,Cr,R,[P3]),ey(b,R,null)}finally{Bg()}return new S3(this.componentType,F,Ao(J,R),R,J)}}class S3 extends g4{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new b3(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Zm(s[k],s,i,e,n),this.previousInputValues.set(e,n),Iu(_n(this._tNode.index,s))}}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function P3(){const t=Et();Zl(E()[k],t)}function me(t){let e=function UM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=jd(t.inputs),o.inputTransforms=jd(t.inputTransforms),o.declaredInputs=jd(t.declaredInputs),o.outputs=jd(t.outputs);const a=i.hostBindings;a&&V3(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&F3(t,u),c&&L3(t,c),Ll(t.inputs,i.inputs),Ll(t.declaredInputs,i.declaredInputs),Ll(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ll(o.inputTransforms,i.inputTransforms)),jn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function O3(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wa(i.hostAttrs,n=Wa(n,i.hostAttrs))}}(r)}function jd(t){return t===Xn?{}:t===le?[]:t}function F3(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function L3(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function V3(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Pt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ay(t,e,n,r,i,s,o,a){const u=E(),c=oe(),l=t+te,d=c.firstCreatePass?function lz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=No(e,t,4,o||null,pi(c,a));Qm(e,n,l,pi(c,u)),Zl(e,l);const d=l.tView=Km(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];rr(d,!1);const h=nx(c,u,d,t);Xl()&&_d(c,u,h,d),kt(h,u),Vd(u,u[l]=TM(h,u,h,d)),Kl(d)&&qm(c,u,d),null!=o&&Wm(u,d,a)}let nx=function rx(t,e,n,r){return gi(!0),e[W].createComment("")};function Br(t,e,n){const r=E();return Pt(r,uo(),e)&&function En(t,e,n,r,i,s,o,a){const u=un(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Zm(t,n,l,r,i),es(e)&&function r3(t,e){const n=_n(e,t);16&n[X]||(n[X]|=64)}(n,e.index)):3&e.type&&(r=function n3(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(oe(),function Le(){const t=$.lFrame;return rS(t.tView,t.selectedIndex)}(),r,t,e,r[W],n,!1),Br}function uy(t,e,n,r,i){const o=i?"class":"style";Zm(t,n,e.inputs[o],o,r)}function B(t,e,n,r){const i=E(),s=oe(),o=te+t,a=i[W],u=s.firstCreatePass?function gz(t,e,n,r,i,s){const o=e.consts,u=No(e,t,2,r,pi(o,i));return Qm(e,n,u,pi(o,s)),null!==u.attrs&&Bd(u,u.attrs,!1),null!==u.mergedAttrs&&Bd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=ix(s,i,u,a,e,t);i[o]=c;const l=Kl(u);return rr(u,!0),_A(a,c,u),32!=(32&u.flags)&&Xl()&&_d(s,i,c,u),0===function B$(){return $.lFrame.elementDepthCount}()&&kt(c,i),function U$(){$.lFrame.elementDepthCount++}(),l&&(qm(s,i,u),zm(s,u,i)),null!==r&&Wm(i,u),B}function U(){let t=Et();Rg()?function Pg(){$.lFrame.isParent=!1}():(t=t.parent,rr(t,!1));const e=t;(function $$(t){return $.skipHydrationRootTNode===t})(e)&&function q$(){$.skipHydrationRootTNode=null}(),function j$(){$.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(Zl(n,t),bg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function cH(t){return 0!=(8&t.flags)}(e)&&uy(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lH(t){return 0!=(16&t.flags)}(e)&&uy(n,e,E(),e.stylesWithoutHost,!1),U}function et(t,e,n,r){return B(t,e,n,r),U(),et}let ix=(t,e,n,r,i,s)=>(gi(!0),gd(r,i,function wS(){return $.lFrame.currentNamespace}()));function Wd(t){return!!t&&"function"==typeof t.then}function ax(t){return!!t&&"function"==typeof t.subscribe}function Ot(t,e,n,r){const i=E(),s=oe(),o=Et();return function cx(t,e,n,r,i,s,o){const a=Kl(r),c=t.firstCreatePass&&function MM(t){return t.cleanup||(t.cleanup=[])}(t),l=e[qe],d=function AM(t){return t[eo]||(t[eo]=[])}(e);let h=!0;if(3&r.type||o){const m=un(r,e),y=o?o(m):m,I=d.length,_=o?R=>o(be(R[r.index])):r.index;let b=null;if(!o&&a&&(b=function Ez(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[eo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=dx(r,e,l,s,!1);const R=n.listen(y,i,s);d.push(s,R),c&&c.push(i,_,I,I+1)}}else s=dx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const F=e[p[y]][p[y+1]].subscribe(s),J=d.length;d.push(s,F),c&&c.push(i,r.index,J,-(J+1))}}}(s,i,i[W],o,t,e,r),Ot}function lx(t,e,n,r){try{return nr(6,e,n),!1!==n(r)}catch(i){return NM(t,i),!1}finally{nr(7,e,n)}}function dx(t,e,n,r,i){return function s(o){if(o===Function)return r;Iu(t.componentOffset>-1?_n(t.index,e):e);let u=lx(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=lx(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function hx(t=1){return function eH(t){return($.lFrame.contextLView=function tH(t,e){for(;t>0;)e=e[no],t--;return e}(t,$.lFrame.contextLView))[qe]}(t)}function Kd(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function hy(t){return 2|t}function us(t){return(131068&t)>>2}function fy(t,e){return-131069&t|e<<2}function py(t){return 1|t}function Ex(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?vi(s):us(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Nz(t[a],e)&&(u=!0,t[a+1]=r?py(l):hy(l)),a=r?vi(l):us(l)}u&&(t[n+1]=r?hy(s):py(s))}function Nz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yo(t,e)>=0}function Qd(t,e){return function Hn(t,e,n,r){const i=E(),s=oe(),o=function kr(t){const e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Nx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Kt()],o=function xx(t,e){return e>=t.expandoStartIndex}(t,n);(function Ox(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Uz(t,e,n,r){const i=function Fg(t){const e=$.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=xu(n=gy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=gy(i,t,e,n,r),null===s){let u=function jz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==us(r))return t[vi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=gy(null,t,e,u[1],r),u=xu(u,e.attrs,r),function $z(t,e,n,r){t[vi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Hz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=xu(r,t[s].hostAttrs,n);return xu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Mz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vi(o),u=us(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||yo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=vi(t[a+1]);t[r+1]=Kd(h,a),0!==h&&(t[h+1]=fy(t[h+1],r)),t[a+1]=function Sz(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Kd(a,0),0!==a&&(t[a+1]=fy(t[a+1],r)),a=r;else t[r+1]=Kd(u,0),0===a?a=r:t[u+1]=fy(t[u+1],r),u=r;c&&(t[r+1]=hy(t[r+1])),Ex(t,l,r,!0),Ex(t,l,r,!1),function xz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yo(s,e)>=0&&(n[r+1]=py(n[r+1]))}(e,l,t,r,s),o=Kd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Y&&Pt(i,o,e)&&function Rx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function Az(t){return 1==(1&t)}(c)?Px(u,e,n,i,us(c),o):void 0;Yd(l)||(Yd(s)||function Tz(t){return 2==(2&t)}(c)&&(s=Px(u,null,n,i,a,o)),function IG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:mi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mi.Important),t.setStyle(n,r,i,s))}}(r,o,Jl(Kt(),n),i,s))}(s,s.data[Kt()],i,i[W],t,i[o+1]=function Wz(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=st(function yi(t){return t instanceof EA?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Qd}function gy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=xu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function xu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Px(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Y&&(h=d?le:void 0);let f=d?Qg(h,r):l===r?h:void 0;if(c&&!Yd(f)&&(f=Qg(u,r)),Yd(f)&&(a=f,o))return a;const p=t[i+1];i=o?vi(p):us(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Qg(u,r))}return a}function Yd(t){return void 0!==t}function G(t,e=""){const n=E(),r=oe(),i=t+te,s=r.firstCreatePass?No(r,i,1,e,null):r.data[i],o=Fx(r,n,s,e,t);n[i]=o,Xl()&&_d(r,n,o,s),rr(s,!1)}let Fx=(t,e,n,r,i)=>(gi(!0),function pd(t,e){return t.createText(e)}(e[W],r));function Nu(t,e,n){const r=E(),i=function Ro(t,e,n,r){return Pt(t,uo(),n)?e+q(n)+r:Y}(r,t,e,n);return i!==Y&&function Lr(t,e,n){const r=Jl(e,t);!function sA(t,e,n){t.setValue(e,n)}(t[W],r,n)}(r,Kt(),i),Nu}const Ho="en-US";let sN=Ho;function _y(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)_y(t[s],e,n,r,i);else{const s=oe(),o=E(),a=Et();let u=ss(t)?t:H(t.provide);const c=VA(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(ss(t)||!t.multi){const f=new iu(c,i,T),p=wy(u,e,i?l:l+h,d);-1===p?(zg(rd(a,o),s,u),vy(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=wy(u,e,l+h,d),p=wy(u,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){zg(rd(a,o),s,u);const I=function p6(t,e,n,r,i){const s=new iu(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,xN(s,i,r&&!n),s}(i?f6:h6,n.length,i,r,c);!i&&y&&(n[p].providerFactory=I),vy(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else vy(s,t,f>-1?f:p,xN(n[i?p:f],c,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function vy(t,e,n,r){const i=ss(e),s=function XG(t){return!!t.useClass}(e);if(i||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function xN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function h6(t,e,n,r){return Iy(this.multi,[])}function f6(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=rs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),Iy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Iy(i,s);return s}function Iy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Oe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function d6(t,e,n){const r=oe();if(r.firstCreatePass){const i=jn(t);_y(n,r.data,r.blueprint,i,!0),_y(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ls{}class g6{}class Ey extends ls{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VM(this);const i=function yn(t,e){const n=t[w0]||null;if(!n&&!0===e)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function Fr(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=XA(e,n,[{provide:ls,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dy extends g6{constructor(e){super(),this.moduleType=e}create(e){return new Ey(this.moduleType,e,[])}}function K6(t,e,n,r=!0){const i=e[k];if(function fG(t,e,n,r){const i=wt+r,s=n.length;r>0&&(n[i-1][Un]=e),r<s-wt?(e[Un]=n[i],OS(n,wt+r,e)):(n.push(e),e[Un]=null),e[Pe]=n;const o=e[Ja];null!==o&&n!==o&&function pG(t,e){const n=t[io];e[We]!==e[Pe][Pe][We]&&(t[O0]=!0),null===n?t[io]=[e]:n.push(e)}(o,e);const a=e[er];null!==a&&a.insertView(t),e[X]|=128}(i,e,t,n),r){const s=dm(n,t),o=e[W],a=yd(o,t[tr]);null!==a&&function lG(t,e,n,r,i,s){r[Ue]=i,r[xt]=e,pu(t,r,n,1,i,s)}(i,t[xt],o,e,a,s)}}let Ur=(()=>{class t{static{this.__NG_ELEMENT_ID__=J6}}return t})();const Q6=Ur,Y6=class extends Q6{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function W6(t,e,n,r){const i=e.tView,a=Ld(t,i,n,4096&t[X]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ja]=t[e.index];const c=t[er];return null!==c&&(a[er]=c.createEmbeddedView(i)),ey(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new bu(i)}};function J6(){return function th(t,e){return 4&t.type?new Y6(e,t,Ao(t,e)):null}(Et(),E())}let lr=(()=>{class t{static{this.__NG_ELEMENT_ID__=r9}}return t})();function r9(){return function QN(t,e){let n;const r=e[t.index];return qt(r)?n=r:(n=TM(r,e,null,t),e[t.index]=n,Vd(e,n)),YN(n,e,t,r),new WN(n,t,e)}(Et(),E())}const i9=lr,WN=class extends i9{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ao(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const e=id(this._hostTNode,this._hostLView);if($g(e)){const n=ou(e,this._hostLView),r=su(e);return new Qt(n[k].data[r+8],n)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=KN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function uu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Cu(se(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Pr,null);y&&(s=y)}se(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function F$(t){return qt(t[Pe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Pe],l=new WN(c,c[xt],c[Pe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return K6(a,i,o,!r),e.attachToViewContainerRef(),OS(Ty(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=KN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=md(this._lContainer,n);r&&(od(Ty(this._lContainer),n),am(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=md(this._lContainer,n);return r&&null!=od(Ty(this._lContainer),n)?new bu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KN(t){return t[8]}function Ty(t){return t[8]||(t[8]=[])}let YN=function JN(t,e,n,r){if(t[tr])return;let i;i=8&n.type?be(r):function s9(t,e){const n=t[W],r=n.createComment(""),i=un(e,t);return is(n,yd(n,i),r,function _G(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[tr]=i};const B9=new V("Application Initializer");let Fy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ve(B9,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Wd(s))n.push(s);else if(ax(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const jr=new V("LocaleId",{providedIn:"root",factory:()=>ve(jr,re.Optional|re.SkipSelf)||function j9(){return typeof $localize<"u"&&$localize.locale||Ho}()});let G9=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xj(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const D1=new V(""),sh=new V("");let jy,By=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jy||(function f5(t){jy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(ee(Ae),ee(Uy),ee(sh))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})(),Uy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return jy?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),wi=null;const b1=new V("AllowMultipleToken"),$y=new V("PlatformDestroyListeners"),C1=new V("appBootstrapListener");function A1(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=Hy();if(!o||o.injector.get(b1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function m5(t){if(wi&&!wi.get(b1,!1))throw new S(400,!1);(function T1(){!function I$(t){W0=t}(()=>{throw new S(600,!1)})})(),wi=t;const e=t.get(x1);(function S1(t){t.get(BA,null)?.forEach(n=>n())})(t)}(function M1(t=[],e){return In.create({name:e,providers:[{provide:Dm,useValue:"platform"},{provide:$y,useValue:new Set([()=>wi=null])},...t]})}(a,r))}return function _5(t){const e=Hy();if(!e)throw new S(401,!1);return e}()}}function Hy(){return wi?.get(x1)??null}let x1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function v5(t="zone.js",e){return"noop"===t?new P4:"zone.js"===t?new Ae(e):t}(r?.ngZone,function N1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function y6(t,e,n){return new Ey(t,e,n)}(n.moduleType,this.injector,function F1(t){return[{provide:Ae,useFactory:t},{provide:Dd,multi:!0,useFactory:()=>{const e=ve(I5,{optional:!0});return()=>e.initialize()}},{provide:O1,useFactory:w5},{provide:rM,useFactory:iM}]}(()=>i)),o=s.injector.get(Or,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{oh(this._modules,s),a.unsubscribe()})}),function k1(t,e,n){try{const r=n();return Wd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Fy);return a.runInitializers(),a.donePromise.then(()=>(function oN(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(sN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(jr,Ho)||Ho),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=R1({},r);return function p5(t,e,n){const r=new Dy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ju);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get($y,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(ee(In))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function R1(t,e){return Array.isArray(e)?e.reduce(R1,t):{...t,...e}}let ju=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ve(O1),this.zoneIsStable=ve(rM),this.componentTypes=[],this.components=[],this.isStable=ve(G9).hasPendingTasks.pipe(function kj(t,e){return ai((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Tr(r,u=>{i?.unsubscribe();let c=0;const l=s++;Jn(t(u,l)).subscribe(i=Tr(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}(n=>n?function Nj(...t){return og(t,c0(t))}(!1):this.zoneIsStable),function Rj(t,e=kl){return t=t??Pj,ai((n,r)=>{let i,s=!0;n.subscribe(Tr(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),d0()),this._injector=ve(Pr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof GA;if(!this._injector.get(Fy).done)throw!i&&function Ka(t){const e=se(t)||vt(t)||zt(t);return null!==e&&e.standalone}(n),new S(405,!1);let o;o=i?n:this._injector.get(Rd).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function g5(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ls),c=o.create(In.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(D1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),oh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;oh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(C1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>oh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const O1=new V("",{providedIn:"root",factory:()=>ve(Or).handleError.bind(void 0)});function w5(){const t=ve(Ae),e=ve(Or);return n=>t.runOutsideAngular(()=>e.handleError(n))}let I5=(()=>{class t{constructor(){this.zone=ve(Ae),this.applicationRef=ve(ju)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let V1=(()=>{class t{static{this.__NG_ELEMENT_ID__=D5}}return t})();function D5(t){return function b5(t,e,n){if(es(t)&&!n){const r=_n(t.index,e);return new bu(r,r)}return 47&t.type?new bu(e[We],e):null}(Et(),E(),16==(16&t))}const F5=A1(null,"core",[]);let L5=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(ee(ju))}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Ln({})}}return t})();let Yy=null;function Hu(){return Yy}class Y5{}const hs=new V("DocumentToken");let fk=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new jW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(T(lr),T(Ur))}}static{this.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class jW{constructor(){this.$implicit=null,this.ngIf=null}}function pk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${st(e)}'.`)}let h7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Ln({})}}return t})();function _k(t){return"server"===t}class U7 extends Y5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f_ extends U7{static makeCurrent(){!function Q5(t){Yy||(Yy=t)}(new f_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function j7(){return Wu=Wu||document.querySelector("base"),Wu?Wu.getAttribute("href"):null}();return null==n?null:function $7(t){Dh=Dh||document.createElement("a"),Dh.setAttribute("href",t);const e=Dh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function FW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Dh,Wu=null,G7=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})();const p_=new V("EventManagerPlugins");let Dk=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ee(p_),ee(Ae))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})();class bk{constructor(e){this._doc=e}}const g_="ng-app-id";let Ck=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_k(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${g_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(g_),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(g_,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ee(hs),ee(Sd),ee(UA,8),ee(_i))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})();const m_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},y_=/%COMP%/g,K7=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Sk(t,e){return e.map(n=>n.replace(y_,t))}let Ak=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=_k(a),this.defaultRenderer=new __(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vn.ShadowDom&&(r={...r,encapsulation:Vn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof xk?i.applyToHost(n):i instanceof v_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Vn.Emulated:s=new xk(u,c,r,this.appId,l,o,a,d);break;case Vn.ShadowDom:return new X7(u,c,n,r,o,a,this.nonce,d);default:s=new v_(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ee(Dk),ee(Ck),ee(Sd),ee(K7),ee(hs),ee(_i),ee(Ae),ee(UA))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})();class __{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(m_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Mk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Mk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=m_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=m_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mi.DashCase|mi.Important)?e.style.setProperty(n,r,i&mi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Hu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Mk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class X7 extends __{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Sk(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class v_ extends __{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Sk(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xk extends v_{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function Q7(t){return"_ngcontent-%COMP%".replace(y_,t)}(c),this.hostAttr=function Y7(t){return"_nghost-%COMP%".replace(y_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Z7=(()=>{class t extends bk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ee(hs))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})();const Nk=["alt","control","meta","shift"],e8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let n8=(()=>{class t extends bk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hu().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Nk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=e8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nk.forEach(o=>{o!==i&&(0,t8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ee(hs))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac})}}return t})();const Rk=[{provide:_i,useValue:"browser"},{provide:BA,useValue:function r8(){f_.makeCurrent()},multi:!0},{provide:hs,useFactory:function s8(){return function TG(t){pm=t}(document),document},deps:[]}],o8=A1(F5,"browser",Rk),a8=new V(""),Pk=[{provide:sh,useClass:class H7{addToWindow(e){De.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Hu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:D1,useClass:By,deps:[Ae,Uy,sh]},{provide:By,useClass:By,deps:[Ae,Uy,sh]}],Ok=[{provide:Dm,useValue:"root"},{provide:Or,useFactory:function i8(){return new Or},deps:[]},{provide:p_,useClass:Z7,multi:!0,deps:[hs,Ae,_i]},{provide:p_,useClass:n8,multi:!0,deps:[hs]},Ak,Ck,Dk,{provide:qA,useExisting:Ak},{provide:class y7{},useClass:G7,deps:[]},[]];let u8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Sd,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(ee(a8,12))}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Ln({providers:[...Ok,...Pk],imports:[h7,L5]})}}return t})();typeof window<"u"&&window;const{isArray:g8}=Array,{getPrototypeOf:m8,prototype:y8,keys:_8}=Object;const{isArray:I8}=Array;function b8(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function C8(...t){const e=function Ij(t){return Re(sg(t))?t.pop():void 0}(t),{args:n,keys:r}=function v8(t){if(1===t.length){const e=t[0];if(g8(e))return{args:e,keys:null};if(function w8(t){return t&&"object"==typeof t&&m8(t)===y8}(e)){const n=_8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new _t(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Jn(n[l]).subscribe(Tr(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?b8(r,a):a),s.complete())}))}});return e?i.pipe(function D8(t){return Zp(e=>function E8(t,e){return I8(e)?t(...e):t(e)}(t,e))}(e)):i}let Bk=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(T(os),T($n))}}static{this.\u0275dir=Q({type:t})}}return t})(),fs=(()=>{class t extends Bk{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=function Nt(t){return Sr(()=>{const e=t.prototype.constructor,n=e[Ar]||qg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ar]||qg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}()}static{this.\u0275dir=Q({type:t,features:[me]})}}return t})();const dr=new V("NgValueAccessor"),S8={provide:dr,useExisting:Ee(()=>bh),multi:!0},M8=new V("CompositionEventMode");let bh=(()=>{class t extends Bk{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A8(){const t=Hu()?Hu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(T(os),T($n),T(M8,8))}}static{this.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ot("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Oe([S8]),me]})}}return t})();const Ft=new V("NgValidators"),Di=new V("NgAsyncValidators");function Yk(t){return null!=t}function Jk(t){return Wd(t)?og(t):t}function Xk(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Zk(t,e){return e.map(n=>n(t))}function eR(t){return t.map(e=>function N8(t){return!t.validate}(e)?e:n=>e.validate(n))}function I_(t){return null!=t?function tR(t){if(!t)return null;const e=t.filter(Yk);return 0==e.length?null:function(n){return Xk(Zk(n,e))}}(eR(t)):null}function E_(t){return null!=t?function nR(t){if(!t)return null;const e=t.filter(Yk);return 0==e.length?null:function(n){return C8(Zk(n,e).map(Jk)).pipe(Zp(Xk))}}(eR(t)):null}function rR(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function D_(t){return t?Array.isArray(t)?t:[t]:[]}function Th(t,e){return Array.isArray(t)?t.includes(e):t===e}function oR(t,e){const n=D_(e);return D_(t).forEach(i=>{Th(n,i)||n.push(i)}),n}function aR(t,e){return D_(e).filter(n=>!Th(t,n))}class uR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=I_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=E_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Zt extends uR{get formDirective(){return null}get path(){return null}}class bi extends uR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lR=(()=>{class t extends cR{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(T(bi,2))}}static{this.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]})}}return t})(),dR=(()=>{class t extends cR{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(T(Zt,10))}}static{this.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]})}}return t})();const Ku="VALID",Ah="INVALID",Wo="PENDING",Qu="DISABLED";function T_(t){return(Mh(t)?t.validators:t)||null}function S_(t,e){return(Mh(e)?e.asyncValidators:t)||null}function Mh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class A_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ku}get invalid(){return this.status===Ah}get pending(){return this.status==Wo}get disabled(){return this.status===Qu}get enabled(){return this.status!==Qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aR(e,this._rawAsyncValidators))}hasValidator(e){return Th(this._rawValidators,e)}hasAsyncValidator(e){return Th(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Qu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ku,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ku||this.status===Wo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qu:Ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wo,this._hasOwnPendingAsyncValidator=!0;const n=Jk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?Qu:this.errors?Ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wo)?Wo:this._anyControlsHaveStatus(Ah)?Ah:Ku}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function O8(t){return Array.isArray(t)?I_(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function F8(t){return Array.isArray(t)?E_(t):t||null}(this._rawAsyncValidators)}}class M_ extends A_{constructor(e,n,r){super(T_(n),S_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function pR(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function fR(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ko=new V("CallSetDisabledState",{providedIn:"root",factory:()=>xh}),xh="always";function Yu(t,e,n=xh){x_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function B8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gR(t,e)})}(t,e),function j8(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function U8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gR(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function V8(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Rh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function x_(t,e){const n=function iR(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(rR(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function sR(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(rR(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Rh(e._rawValidators,i),Rh(e._rawAsyncValidators,i)}function gR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const q8={provide:Zt,useExisting:Ee(()=>Oh)},Ju=(()=>Promise.resolve())();let Oh=(()=>{class t extends Zt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new M_({},I_(n),E_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ju.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Yu(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ju.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ju.then(()=>{const r=this._findContainer(n.path),i=new M_({});(function mR(t,e){x_(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ju.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ju.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function yR(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(T(Ft,10),T(Di,10),T(Ko,8))}}static{this.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ot("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([q8]),me]})}}return t})();function _R(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function vR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wR=class extends A_{constructor(e=null,n,r){super(T_(n),S_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=vR(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_R(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_R(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Q8={provide:bi,useExisting:Ee(()=>P_)},DR=(()=>Promise.resolve())();let P_=(()=>{class t extends bi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new wR,this._registered=!1,this.name="",this.update=new Rt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function R_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===bh?n=s:function G8(t){return Object.getPrototypeOf(t.constructor)===fs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function k_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){DR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Qy(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);DR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Nh(t,e){return[...e.path,t]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(T(Zt,9),T(Ft,10),T(Di,10),T(dr,10),T(V1,8),T(Ko,8))}}static{this.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oe([Q8]),me,xr]})}}return t})(),bR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),TR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Ln({})}}return t})(),vK=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Ln({imports:[TR]})}}return t})(),IK=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ko,useValue:n.callSetDisabledState??xh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Ln({imports:[vK]})}}return t})();function GR(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){GR(s,r,i,o,a,"next",u)}function a(u){GR(s,r,i,o,a,"throw",u)}o(void 0)})}}const zR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new CK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fh=function(t){return function(t){const e=zR(t);return $_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Lh=function(t){try{return $_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Vh=()=>{try{return function AK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},WR=()=>{var t;return null===(t=Vh())||void 0===t?void 0:t.config};class Bh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ci(){try{return"object"==typeof indexedDB}catch{return!1}}function Xu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function G_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Rn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}}class hr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function jK(t,e){return t.replace($K,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Rn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const $K=/\{\$([^}]+)}/g;function z_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(QR(s)&&QR(o)){if(!z_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QR(t){return null!==t&&"object"==typeof t}function q_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class GK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function zK(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=W_),void 0===i.error&&(i.error=W_),void 0===i.complete&&(i.complete=W_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W_(){}const qK=1e3,WK=2,KK=144e5,QK=.5;function Q_(t,e=qK,n=WK){const r=e*Math.pow(n,t),i=Math.round(QK*r*(Math.random()-.5)*2);return Math.min(KK,r+i)}function ut(t){return t&&t._delegate?t._delegate:t}class Vt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gs="[DEFAULT]";class JK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ZK(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===gs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class eQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Y_=[];var ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{});const YR={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},tQ=ae.INFO,nQ={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},rQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=nQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Qo{constructor(e){this.name=e,this._logLevel=tQ,this._logHandler=rQ,this._userLogHandler=null,Y_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const iQ=(t,e)=>e.some(n=>t instanceof n);let JR,XR;const ZR=new WeakMap,J_=new WeakMap,eP=new WeakMap,X_=new WeakMap,Z_=new WeakMap;let ev={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return J_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dQ(t){return"function"==typeof t?function lQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oQ(){return XR||(XR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(tv(this),e),Ti(ZR.get(this))}:function(...e){return Ti(t.apply(tv(this),e))}:function(e,...n){const r=t.call(tv(this),e,...n);return eP.set(r,e.sort?e.sort():[e]),Ti(r)}}(t):(t instanceof IDBTransaction&&function uQ(t){if(J_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});J_.set(t,e)}(t),iQ(t,function sQ(){return JR||(JR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ev):t)}function Ti(t){if(t instanceof IDBRequest)return function aQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZR.set(n,t)}).catch(()=>{}),Z_.set(e,t),e}(t);if(X_.has(t))return X_.get(t);const e=dQ(t);return e!==t&&(X_.set(t,e),Z_.set(e,t)),e}const tv=t=>Z_.get(t),fQ=["get","getKey","getAll","getAllKeys","count"],pQ=["put","add","delete","clear"],nv=new Map;function tP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(nv.get(e))return nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fQ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return nv.set(e,s),s}!function cQ(t){ev=t(ev)}(t=>({...t,get:(e,n,r)=>tP(e,n)||t.get(e,n,r),has:(e,n)=>!!tP(e,n)||t.has(e,n)}));class gQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function mQ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const rv="@firebase/app",ms=new Qo("@firebase/app"),jh="[DEFAULT]",$Q={[rv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ys=new Map,$h=new Map;function HQ(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if($h.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;$h.set(e,t);for(const n of ys.values())HQ(n,t);return!0}function Hh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Gr=new hr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Zu="9.23.0";function rP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=WR()),!n)throw Gr.create("no-options");const s=ys.get(i);if(s){if(z_(n,s.options)&&z_(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}const o=new eQ(i);for(const u of $h.values())o.addComponent(u);const a=new zQ(n,r,o);return ys.set(i,a),a}function iP(t=jh){const e=ys.get(t);if(!e&&t===jh&&WR())return rP();if(!e)throw Gr.create("no-app",{appName:t});return e}function sP(){return Array.from(ys.values())}function Qe(t,e,n){var r;let i=null!==(r=$Q[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ms.warn(a.join(" "))}en(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qQ="firebase-heartbeat-database",WQ=1,ec="firebase-heartbeat-store";let sv=null;function oP(){return sv||(sv=function hQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ti(o.result),u.oldVersion,u.newVersion,Ti(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(qQ,WQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ec)}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),sv}function ov(){return(ov=g(function*(t){try{return yield(yield oP()).transaction(ec).objectStore(ec).get(uP(t))}catch(e){if(e instanceof Rn)ms.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}})).apply(this,arguments)}function aP(t,e){return av.apply(this,arguments)}function av(){return(av=g(function*(t,e){try{const r=(yield oP()).transaction(ec,"readwrite");yield r.objectStore(ec).put(e,uP(t)),yield r.done}catch(n){if(n instanceof Rn)ms.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n?.message});ms.warn(r.message)}}})).apply(this,arguments)}function uP(t){return`${t.name}!${t.options.appId}`}class JQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=cP(),{heartbeatsToSend:r,unsentEntries:i}=function XQ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Fh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function cP(){return(new Date).toISOString().substring(0,10)}class ZQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ci()&&Xu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function KQ(t){return ov.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return aP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return aP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function lP(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}!function eY(t){en(new Vt("platform-logger",e=>new gQ(e),"PRIVATE")),en(new Vt("heartbeat",e=>new JQ(e),"PRIVATE")),Qe(rv,"0.9.13",t),Qe(rv,"0.9.13","esm2017"),Qe("fire-js","")}(""),Qe("firebase","9.23.0","app");const rY=(t,e)=>e.some(n=>t instanceof n);let dP,hP;const fP=new WeakMap,uv=new WeakMap,pP=new WeakMap,cv=new WeakMap,lv=new WeakMap;let dv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return uv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||pP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lY(t){return"function"==typeof t?function cY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sY(){return hP||(hP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hv(this),e),Si(fP.get(this))}:function(...e){return Si(t.apply(hv(this),e))}:function(e,...n){const r=t.call(hv(this),e,...n);return pP.set(r,e.sort?e.sort():[e]),Si(r)}}(t):(t instanceof IDBTransaction&&function aY(t){if(uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});uv.set(t,e)}(t),rY(t,function iY(){return dP||(dP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dv):t)}function Si(t){if(t instanceof IDBRequest)return function oY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fP.set(n,t)}).catch(()=>{}),lv.set(e,t),e}(t);if(cv.has(t))return cv.get(t);const e=lY(t);return e!==t&&(cv.set(t,e),lv.set(e,t)),e}const hv=t=>lv.get(t),hY=["get","getKey","getAll","getAllKeys","count"],fY=["put","add","delete","clear"],fv=new Map;function gP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fv.get(e))return fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hY.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return fv.set(e,s),s}!function uY(t){dv=t(dv)}(t=>({...t,get:(e,n,r)=>gP(e,n)||t.get(e,n,r),has:(e,n)=>!!gP(e,n)||t.has(e,n)}));const mP="@firebase/installations",pv="0.6.4",yP=1e4,_P=`w:${pv}`,vP="FIS_v2",pY="https://firebaseinstallations.googleapis.com/v1",gY=36e5,zr=new hr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wP(t){return t instanceof Rn&&t.code.includes("request-failed")}function gv({projectId:t}){return`${pY}/projects/${t}/installations`}function IP(t){return{token:t.token,requestStatus:2,expiresIn:vY(t.expiresIn),creationTime:Date.now()}}function mv(t,e){return yv.apply(this,arguments)}function yv(){return(yv=g(function*(t,e){const r=(yield e.json()).error;return zr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function EP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _v(t){return vv.apply(this,arguments)}function vv(){return(vv=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function vY(t){return Number(t.replace("s","000"))}function wv(){return(wv=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gv(t),i=EP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:vP,appId:t.appId,sdkVersion:_P})},u=yield _v(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:IP(c.authToken)}}throw yield mv("Create Installation",u)})).apply(this,arguments)}function bP(t){return new Promise(e=>{setTimeout(e,t)})}const DY=/^[cdef][\w-]{21}$/,Iv="";function bY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function CY(t){return function EY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return DY.test(n)?n:Iv}catch{return Iv}}function Yo(t){return`${t.appName}!${t.appId}`}const Jo=new Map;function CP(t,e){const n=Yo(t);TP(n,e),function AY(t,e){const n=function SP(){return!_s&&"BroadcastChannel"in self&&(_s=new BroadcastChannel("[Firebase] FID Change"),_s.onmessage=t=>{TP(t.data.key,t.data.fid)}),_s}();n&&n.postMessage({key:t,fid:e}),function AP(){0===Jo.size&&_s&&(_s.close(),_s=null)}()}(n,e)}function TP(t,e){const n=Jo.get(t);if(n)for(const r of n)r(e)}let _s=null;const MY="firebase-installations-database",xY=1,vs="firebase-installations-store";let Ev=null;function Dv(){return Ev||(Ev=function dY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Si(o.result),u.oldVersion,u.newVersion,Si(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(MY,xY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(vs)}})),Ev}function Gh(t,e){return bv.apply(this,arguments)}function bv(){return(bv=g(function*(t,e){const n=Yo(t),i=(yield Dv()).transaction(vs,"readwrite"),s=i.objectStore(vs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&CP(t,e.fid),e})).apply(this,arguments)}function Cv(t){return Tv.apply(this,arguments)}function Tv(){return(Tv=g(function*(t){const e=Yo(t),r=(yield Dv()).transaction(vs,"readwrite");yield r.objectStore(vs).delete(e),yield r.done})).apply(this,arguments)}function tc(t,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=g(function*(t,e){const n=Yo(t),i=(yield Dv()).transaction(vs,"readwrite"),s=i.objectStore(vs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&CP(t,a.fid),a})).apply(this,arguments)}function Av(t){return Mv.apply(this,arguments)}function Mv(){return Mv=g(function*(t){let e;const n=yield tc(t.appConfig,r=>{const i=function NY(t){return xP(t||{fid:bY(),registrationStatus:0})}(r),s=function kY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(zr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function RY(t,e){return xv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:PY(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Iv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Mv.apply(this,arguments)}function xv(){return xv=g(function*(t,e){try{const n=yield function IY(t,e){return wv.apply(this,arguments)}(t,e);return Gh(t.appConfig,n)}catch(n){throw wP(n)&&409===n.customData.serverCode?yield Cv(t.appConfig):yield Gh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),xv.apply(this,arguments)}function PY(t){return Nv.apply(this,arguments)}function Nv(){return(Nv=g(function*(t){let e=yield MP(t.appConfig);for(;1===e.registrationStatus;)yield bP(100),e=yield MP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Av(t);return r||n}return e})).apply(this,arguments)}function MP(t){return tc(t,e=>{if(!e)throw zr.create("installation-not-found");return xP(e)})}function xP(t){return function OY(t){return 1===t.registrationStatus&&t.registrationTime+yP<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kv(){return(kv=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function LY(t,{fid:e}){return`${gv(t)}/${e}/authTokens:generate`}(t,n),i=function DP(t,{refreshToken:e}){const n=EP(t);return n.append("Authorization",function wY(t){return`${vP} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:_P,appId:t.appId}})},u=yield _v(()=>fetch(r,a));if(u.ok)return IP(yield u.json());throw yield mv("Generate Auth Token",u)})).apply(this,arguments)}function Rv(t){return Pv.apply(this,arguments)}function Pv(){return Pv=g(function*(t,e=!1){let n;const r=yield tc(t.appConfig,s=>{if(!kP(s))throw zr.create("not-registered");const o=s.authToken;if(!e&&function UY(t){return 2===t.requestStatus&&!function jY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gY}(t)}(o))return s;if(1===o.requestStatus)return n=function VY(t,e){return Ov.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw zr.create("app-offline");const a=function $Y(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function BY(t,e){return Fv.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Pv.apply(this,arguments)}function Ov(){return(Ov=g(function*(t,e){let n=yield NP(t.appConfig);for(;1===n.authToken.requestStatus;)yield bP(100),n=yield NP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Rv(t,e):r})).apply(this,arguments)}function NP(t){return tc(t,e=>{if(!kP(e))throw zr.create("not-registered");return function HY(t){return 1===t.requestStatus&&t.requestTime+yP<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Fv(){return Fv=g(function*(t,e){try{const n=yield function FY(t,e){return kv.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Gh(t.appConfig,r),n}catch(n){if(!wP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gh(t.appConfig,r)}else yield Cv(t.appConfig);throw n}}),Fv.apply(this,arguments)}function kP(t){return void 0!==t&&2===t.registrationStatus}function Lv(){return(Lv=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Av(e);return r?r.catch(console.error):Rv(e).catch(console.error),n.fid})).apply(this,arguments)}function Vv(){return Vv=g(function*(t,e=!1){const n=t;return yield function qY(t){return Bv.apply(this,arguments)}(n),(yield Rv(n,e)).token}),Vv.apply(this,arguments)}function Bv(){return(Bv=g(function*(t){const{registrationPromise:e}=yield Av(t);e&&(yield e)})).apply(this,arguments)}function $v(t){return zr.create("missing-app-config-values",{valueName:t})}const RP="installations",JY=t=>{const e=t.getProvider("app").getImmediate(),n=function QY(t){if(!t||!t.options)throw $v("App Configuration");if(!t.name)throw $v("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $v(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Hh(e,"heartbeat"),_delete:()=>Promise.resolve()}},XY=t=>{const n=Hh(t.getProvider("app").getImmediate(),RP).getImmediate();return{getId:()=>function GY(t){return Lv.apply(this,arguments)}(n),getToken:i=>function zY(t){return Vv.apply(this,arguments)}(n,i)}};(function ZY(){en(new Vt(RP,JY,"PUBLIC")),en(new Vt("installations-internal",XY,"PRIVATE"))})(),Qe(mP,pv),Qe(mP,pv,"esm2017");const Hv="@firebase/remote-config",hn=new hr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lJ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function dJ(t=navigator){return t.languages&&t.languages[0]||t.language}class hJ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:dJ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,_)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",_(b)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let _="fetch-client-network";throw"AbortError"===I?.name&&(_="fetch-timeout"),hn.create(_,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let I;try{I=yield h.json()}catch(_){throw hn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw hn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class gJ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function fJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function pJ(t){if(!(t instanceof Rn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Q_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class _J{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qh(t,e){const n=t.target.error||void 0;return hn.create(e,{originalErrorMessage:n&&n?.message})}const ws="app_namespace_store";class EJ{constructor(e,n,r,i=function IJ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(qh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ws,{keyPath:"compositeKey"})}}catch(n){e(hn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ws],"readonly").objectStore(ws),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(qh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(hn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ws],"readwrite").objectStore(ws),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(qh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(hn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ws],"readwrite").objectStore(ws),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(qh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(hn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class DJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function CJ(){return Kv.apply(this,arguments)}function Kv(){return(Kv=g(function*(){if(!Ci())return!1;try{return yield Xu()}catch{return!1}})).apply(this,arguments)}!function bJ(){en(new Vt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hn.create("registration-window");if(!Ci())throw hn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw hn.create("registration-project-id");if(!o)throw hn.create("registration-api-key");if(!a)throw hn.create("registration-app-id");const u=new EJ(a,r.name,n=n||"firebase"),c=new DJ(u),l=new Qo(Hv);l.logLevel=ae.ERROR;const d=new hJ(i,Zu,n,s,o,a),h=new gJ(d,u),f=new lJ(h,u,c,l),p=new _J(r,f,c,u,l);return function aJ(t){const e=ut(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Qe(Hv,"0.4.4"),Qe(Hv,"0.4.4","esm2017")}();const TJ=(t,e)=>e.some(n=>t instanceof n);let LP,VP;const BP=new WeakMap,Qv=new WeakMap,UP=new WeakMap,Yv=new WeakMap,Jv=new WeakMap;let Xv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function RJ(t){return"function"==typeof t?function kJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function AJ(){return VP||(VP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Zv(this),e),qr(BP.get(this))}:function(...e){return qr(t.apply(Zv(this),e))}:function(e,...n){const r=t.call(Zv(this),e,...n);return UP.set(r,e.sort?e.sort():[e]),qr(r)}}(t):(t instanceof IDBTransaction&&function xJ(t){if(Qv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qv.set(t,e)}(t),TJ(t,function SJ(){return LP||(LP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Xv):t)}function qr(t){if(t instanceof IDBRequest)return function MJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BP.set(n,t)}).catch(()=>{}),Jv.set(e,t),e}(t);if(Yv.has(t))return Yv.get(t);const e=RJ(t);return e!==t&&(Yv.set(t,e),Jv.set(e,t)),e}const Zv=t=>Jv.get(t);function jP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qr(o.result),u.oldVersion,u.newVersion,qr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function ew(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),qr(n).then(()=>{})}const PJ=["get","getKey","getAll","getAllKeys","count"],OJ=["put","add","delete","clear"],tw=new Map;function $P(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tw.get(e))return tw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!PJ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tw.set(e,s),s}!function NJ(t){Xv=t(Xv)}(t=>({...t,get:(e,n,r)=>$P(e,n)||t.get(e,n,r),has:(e,n)=>!!$P(e,n)||t.has(e,n)}));const FJ="/firebase-messaging-sw.js",LJ="/firebase-cloud-messaging-push-scope",HP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",VJ="https://fcmregistrations.googleapis.com/v1",GP="google.c.a.c_id",BJ="google.c.a.c_l",UJ="google.c.a.ts";var Wh=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Wh||{});function Wr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function HJ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const nw="fcm_token_details_db",GJ=5,zP="fcm_token_object_Store";function rw(){return rw=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(nw))return null;let e=null;return(yield jP(nw,GJ,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(zP))return;const c=a.objectStore(zP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Wr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Wr(d.auth),p256dh:Wr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Wr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Wr(d.auth),p256dh:Wr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Wr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield ew(nw),yield ew("fcm_vapid_details_db"),yield ew("undefined"),function qJ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),rw.apply(this,arguments)}const WJ="firebase-messaging-database",KJ=1,Is="firebase-messaging-store";let iw=null;function sw(){return iw||(iw=jP(WJ,KJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Is)}})),iw}function qP(t){return ow.apply(this,arguments)}function ow(){return ow=g(function*(t){const e=lw(t),r=yield(yield sw()).transaction(Is).objectStore(Is).get(e);if(r)return r;{const i=yield function zJ(t){return rw.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield aw(t,i),i}}),ow.apply(this,arguments)}function aw(t,e){return uw.apply(this,arguments)}function uw(){return(uw=g(function*(t,e){const n=lw(t),i=(yield sw()).transaction(Is,"readwrite");return yield i.objectStore(Is).put(e,n),yield i.done,e})).apply(this,arguments)}function cw(){return(cw=g(function*(t){const e=lw(t),r=(yield sw()).transaction(Is,"readwrite");yield r.objectStore(Is).delete(e),yield r.done})).apply(this,arguments)}function lw({appConfig:t}){return t.appId}const Dt=new hr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function JJ(t,e){return dw.apply(this,arguments)}function dw(){return(dw=g(function*(t,e){const n=yield gw(t),r=KP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(pw(t.appConfig),i)).json()}catch(o){throw Dt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Dt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Dt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function hw(){return(hw=g(function*(t,e){const n=yield gw(t),r=KP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${pw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Dt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Dt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Dt.create("token-update-no-token");return s.token})).apply(this,arguments)}function WP(t,e){return fw.apply(this,arguments)}function fw(){return(fw=g(function*(t,e){const r={method:"DELETE",headers:yield gw(t)};try{const s=yield(yield fetch(`${pw(t.appConfig)}/${e}`,r)).json();if(s.error)throw Dt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Dt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function pw({projectId:t}){return`${VJ}/projects/${t}/registrations`}function gw(t){return mw.apply(this,arguments)}function mw(){return(mw=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function KP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==HP&&(i.web.applicationPubKey=r),i}const ZJ=6048e5;function yw(){return yw=g(function*(t){const e=yield function nX(t,e){return Iw.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Wr(e.getKey("auth")),p256dh:Wr(e.getKey("p256dh"))},r=yield qP(t.firebaseDependencies);if(r){if(function rX(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+ZJ?function tX(t,e){return vw.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield WP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return YP(t.firebaseDependencies,n)}return YP(t.firebaseDependencies,n)}),yw.apply(this,arguments)}function _w(){return _w=g(function*(t){const e=yield qP(t.firebaseDependencies);e&&(yield WP(t.firebaseDependencies,e.token),yield function QJ(t){return cw.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),_w.apply(this,arguments)}function vw(){return vw=g(function*(t,e){try{const n=yield function XJ(t,e){return hw.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield aw(t.firebaseDependencies,r),n}catch(n){throw yield function QP(t){return _w.apply(this,arguments)}(t),n}}),vw.apply(this,arguments)}function YP(t,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(t,e){const r={token:yield JJ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield aw(t,r),r.token})).apply(this,arguments)}function Iw(){return(Iw=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:HJ(e)})})).apply(this,arguments)}function JP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function iX(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function sX(t,e){e.data&&(t.data=e.data)}(e,t),function oX(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function XP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Ew(t){return Dt.create("missing-app-config-values",{valueName:t})}XP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),XP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cX{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function uX(t){if(!t||!t.options)throw Ew("App Configuration Object");if(!t.name)throw Ew("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Ew(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Dw(){return(Dw=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(FJ,{scope:LJ}),t.swRegistration.update().catch(()=>{})}catch(e){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function bw(){return(bw=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function ZP(t){return Dw.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Cw(){return(Cw=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=HP)})).apply(this,arguments)}function Tw(){return Tw=g(function*(t,e){if(!navigator)throw Dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dt.create("permission-blocked");return yield function dX(t,e){return Cw.apply(this,arguments)}(t,e?.vapidKey),yield function lX(t,e){return bw.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function eX(t){return yw.apply(this,arguments)}(t)}),Tw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t,e,n){const r=function fX(t){switch(t){case Wh.NOTIFICATION_CLICKED:return"notification_open";case Wh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[GP],message_name:n[BJ],message_time:n[UJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Aw(){return Aw=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Wh.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(JP(n)):t.onMessageHandler.next(JP(n)));const r=n.data;(function aX(t){return"object"==typeof t&&!!t&&GP in t})(r)&&"1"===r["google.c.a.e"]&&(yield function hX(t,e,n){return Sw.apply(this,arguments)}(t,n.messageType,r))}),Aw.apply(this,arguments)}const tO="@firebase/messaging",gX=t=>{const e=new cX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function pX(t,e){return Aw.apply(this,arguments)}(e,n)),e},mX=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function eO(t,e){return Tw.apply(this,arguments)}(e,r)}};function rO(){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(){try{yield Xu()}catch{return!1}return typeof window<"u"&&Ci()&&G_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yX(){en(new Vt("messaging",gX,"PUBLIC")),en(new Vt("messaging-internal",mX,"PRIVATE")),Qe(tO,"0.12.4"),Qe(tO,"0.12.4","esm2017")}();const Kh="analytics",wX="firebase_id",IX="origin",EX=6e4,DX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kw="https://www.googletagmanager.com/gtag/js",dt=new Qo("@firebase/analytics"),tn=new hr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function CX(t){if(!t.startsWith(kw)){const e=tn.create("invalid-gtag-resource",{gtagURL:t});return dt.warn(e.message),""}return t}function iO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Rw(){return(Rw=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield iO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){dt.error(a)}t("config",i,s)})).apply(this,arguments)}function Pw(){return(Pw=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield iO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){dt.error(s)}})).apply(this,arguments)}const PX=30,sO=new class FX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function LX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ow(){return(Ow=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:LX(r)},s=DX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Fw(){return(Fw=g(function*(t,e=sO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw tn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw tn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $X;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:EX),oO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function oO(t,e,n){return Lw.apply(this,arguments)}function Lw(){return Lw=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=sO){var s;const{appId:o,measurementId:a}=t;try{yield function UX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function VX(t){return Ow.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function jX(t){if(!(t instanceof Rn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Q_(n,i.intervalMillis,PX):Q_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),dt.debug(`Calling attemptFetch again in ${l} millis`),oO(t,d,r,i)}}),Lw.apply(this,arguments)}class $X{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Vw,zw;function Bw(){return(Bw=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function qw(){return(qw=g(function*(){if(!Ci())return dt.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xu()}catch(t){return dt.warn(tn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ww(){return Ww=g(function*(t,e,n,r,i,s,o){var a;const u=function BX(t){return Fw.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dt.error(f)),e.push(u);const c=function QX(){return qw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function RX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(kw)&&n.src.includes(t))return n;return null})(s)||function SX(t,e){const n=function TX(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:CX}),r=document.createElement("script"),i=`${kw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),zw&&(i("consent","default",zw),function aO(t){zw=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[IX]="firebase",h.update=!0,null!=d&&(h[wX]=d),i("config",l.measurementId,h),Vw&&(i("set",Vw),function uO(t){Vw=t}(void 0)),l.measurementId}),Ww.apply(this,arguments)}class JX{constructor(e){this.app=e}_delete(){return delete fr[this.app.options.appId],Promise.resolve()}}let fr={},cO=[];const lO={};let hO,pr,Qh="dataLayer",Kw=!1;function ZX(t,e,n){!function XX(){const t=[];if(H_()&&t.push("This is a browser extension environment."),G_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=tn.create("invalid-analytics-context",{errorInfo:e});dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw tn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw tn.create("no-api-key");dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fr[r])throw tn.create("already-exists",{id:r});if(!Kw){!function AX(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Qh);const{wrappedGtag:s,gtagCore:o}=function kX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function NX(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function xX(t,e,n,r,i){return Pw.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function MX(t,e,n,r,i,s){return Rw.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){dt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(fr,cO,lO,Qh,"gtag");pr=s,hO=o,Kw=!0}return fr[r]=function YX(t,e,n,r,i,s,o){return Ww.apply(this,arguments)}(t,cO,lO,e,hO,Qh,n),new JX(t)}function tZ(){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(){if(H_()||!G_()||!Ci())return!1;try{return yield Xu()}catch{return!1}})).apply(this,arguments)}const fO="@firebase/analytics";!function rZ(){en(new Vt(Kh,(e,{options:n})=>ZX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),en(new Vt("analytics-internal",function t(e){try{const n=e.getProvider(Kh).getImmediate();return{logEvent:(r,i,s)=>function nZ(t,e,n,r){t=ut(t),function HX(t,e,n,r,i){return Bw.apply(this,arguments)}(pr,fr[t.app.options.appId],e,n,r).catch(i=>dt.error(i))}(n,r,i,s)}}catch(n){throw tn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Qe(fO,"0.10.0"),Qe(fO,"0.10.0","esm2017")}();class iZ extends Fn{constructor(e,n){super()}schedule(e,n=0){return this}}const Yh={setInterval(t,e,...n){const{delegate:r}=Yh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class gO extends iZ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Yh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Js(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const mO={now:()=>(mO.delegate||Date).now(),delegate:void 0};class nc{constructor(e,n=nc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}nc.now=mO.now;class yO extends nc{constructor(e,n=nc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const aZ=new class oZ extends yO{}(class sZ extends gO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),uZ=new yO(gO),Jw=new wu("7.6.0"),Xw="__angularfire_symbol__analyticsIsSupportedValue",Zw="__angularfire_symbol__analyticsIsSupported",eI="__angularfire_symbol__remoteConfigIsSupportedValue",tI="__angularfire_symbol__remoteConfigIsSupported",nI="__angularfire_symbol__messagingIsSupportedValue",rI="__angularfire_symbol__messagingIsSupported";globalThis[Zw]||(globalThis[Zw]=tZ().then(t=>globalThis[Xw]=t).catch(()=>globalThis[Xw]=!1)),globalThis[rI]||(globalThis[rI]=rO().then(t=>globalThis[nI]=t).catch(()=>globalThis[nI]=!1)),globalThis[tI]||(globalThis[tI]=CJ().then(t=>globalThis[eI]=t).catch(()=>globalThis[eI]=!1));const oI=(t,e)=>{const n=e?[e]:sP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Xo(){}class _O{constructor(e,n=aZ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class lZ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),n.pipe(function cZ(t,e,n){const r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ai((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Tr(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):kl}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vO=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _O(Zone.current)),this.insideAngular=n.run(()=>new _O(Zone.current,uZ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ee(Ae))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Es(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ds(t){return Es().ngZone.run(()=>t())}function hZ(t){return Es(),function fZ(t){return function(n){return(n=n.lift(new lZ(t.ngZone))).pipe(Fl(t.outsideAngular),Ol(t.insideAngular))}}(Es())(t)}const pZ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ds(()=>t.apply(void 0,r))},Ai=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ds(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)))),r[s]=pZ(r[s],n));const i=function dZ(t){return Es().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof _t){const s=Es();return i.pipe(Fl(s.outsideAngular),Ol(s.insideAngular))}return Ds(()=>i)}return i instanceof _t?i.pipe(hZ):i instanceof Promise?Ds(()=>new Promise((s,o)=>i.then(a=>Ds(()=>s(a)),a=>Ds(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ds(()=>i)};class Zo{constructor(e){return e}}class wO{constructor(){return sP()}}const aI=new V("angularfire2._apps"),mZ={provide:Zo,useFactory:function gZ(t){return t&&1===t.length?t[0]:new Zo(iP())},deps:[[new wn,aI]]},yZ={provide:wO,deps:[[new wn,aI]]};function _Z(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}let vZ=(()=>{class t{constructor(n){Qe("angularfire",Jw.full,"core"),Qe("angularfire",Jw.full,"app"),Qe("angular",WA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ee(_i))},t.\u0275mod=Zn({type:t}),t.\u0275inj=Ln({providers:[mZ,yZ]}),t})();function wZ(t,...e){return{ngModule:vZ,providers:[{provide:aI,useFactory:_Z(t),multi:!0,deps:[Ae,In,vO,...e]}]}}const IZ=Ai(rP,!0);const EZ=function IO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},EO=new hr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jh=new Qo("@firebase/auth");function Xh(t,...e){Jh.logLevel<=ae.ERROR&&Jh.error(`Auth (${Zu}): ${t}`,...e)}function fn(t,...e){throw uI(t,...e)}function gr(t,...e){return uI(t,...e)}function uI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EO.create(t,...e)}function A(t,e,...n){if(!t)throw uI(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function Mi(t,e){t||mr(e)}function bO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=function FK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}()||function VK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function bZ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function cI(){return"http:"===bO()||"https:"===bO()}()||H_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class CO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},SZ=new ic(3e4,6e4);function $e(t,e,n,r){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e,n,r,i={}){return TO(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=q_(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),CO.fetch()(SO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function TO(t,e,n){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TZ),e);try{const i=new AZ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw sc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw sc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw sc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function DO(t,e,n){const r=Object.assign(Object.assign({},EZ()),{[e]:n});return new hr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);fn(t,l)}}catch(i){if(i instanceof Rn)throw i;fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function SO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function lI(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class AZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),SZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function pI(){return(pI=g(function*(t,e){return $e(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function mI(){return(mI=g(function*(t,e){return $e(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yI(){return(yI=g(function*(t,e=!1){const n=ut(t),r=yield n.getIdToken(e),i=Zh(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:oc(_I(i.auth_time)),issuedAtTime:oc(_I(i.iat)),expirationTime:oc(_I(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function _I(t){return 1e3*Number(t)}function Zh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lh(n);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qr(t,e){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Rn&&function PZ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class OZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class AO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ac(t){return wI.apply(this,arguments)}function wI(){return wI=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qr(t,function NZ(t,e){return mI.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function VZ(t){return t.map(e=>{var{providerId:n}=e,r=Pl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function LZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new AO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),wI.apply(this,arguments)}function II(){return(II=g(function*(t){const e=ut(t);yield ac(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function EI(){return(EI=g(function*(t,e){const n=yield TO(t,{},g(function*(){const r=q_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SO(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function RZ(t){const e=Zh(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function BZ(t,e){return EI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new uc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return mr("not implemented")}}function xi(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Qr(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function kZ(t){return yI.apply(this,arguments)}(this,e)}reload(){return function FZ(t){return II.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ac(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Qr(e,function MZ(t,e){return pI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:R,isAnonymous:F,providerData:J,stsTokenManager:Ie}=n;A(b&&Ie,e,"internal-error");const Gt=uc.fromJSON(this.name,Ie);A("string"==typeof b,e,"internal-error"),xi(d,e.name),xi(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof F,e,"internal-error"),xi(f,e.name),xi(p,e.name),xi(m,e.name),xi(y,e.name),xi(I,e.name),xi(_,e.name);const Cr=new bs({uid:b,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Gt,createdAt:I,lastLoginAt:_});return J&&Array.isArray(J)&&(Cr.providerData=J.map(LT=>Object.assign({},LT))),y&&(Cr._redirectEventId=y),Cr}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new uc;i.updateFromServerResponse(n);const s=new bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ac(s),s})()}}const MO=new Map;function Yr(t){Mi(t instanceof Function,"Expected a class definition");let e=MO.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MO.set(t,e),e)}const xO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ef(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,s),this.fullPersistenceKey=ef("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?bs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new ta(Yr(xO),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Yr(xO);const o=ef(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=bs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new ta(s,e,r)):new ta(s,e,r)})()}}function NO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function PO(t=Lt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function kO(t=Lt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function FO(t=Lt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function LO(t=Lt()){return/webos/i.test(t)}(e))return"Webos";if(function DI(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function RO(t=Lt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function OO(t=Lt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function VO(t,e=[]){let n;switch(t){case"Browser":n=NO(Lt());break;case"Worker":n=`${NO(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zu}/${r}`}function BO(t,e){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t,e){return $e(t,"GET","/v2/recaptchaConfig",function Ve(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function jO(t){return void 0!==t&&void 0!==t.enterprise}class $O{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class GO{constructor(e){this.type="recaptcha-enterprise",this.auth=ht(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){BO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new $O(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;jO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&jO(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function TI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function HZ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class WZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class KZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zO(this),this.idTokenSubscription=new zO(this),this.beforeStateQueue=new WZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ta.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield ac(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function CZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?ut(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Yr(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield BO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $O(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new GO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Yr(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ta.create(n,[Yr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function DZ(t,...e){Jh.logLevel<=ae.WARN&&Jh.warn(`Auth (${Zu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ht(t){return ut(t)}class zO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function HK(t,e){const n=new GK(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function HO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ic(3e4,6e4),new ic(2e3,1e4),new ic(3e4,6e4),new ic(5e3,15e3),encodeURIComponent("fac");var EF="@firebase/auth";class jte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Vh(),function Hte(t){en(new Vt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VO(t)},c=new KZ(r,i,s,u);return function YZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new Vt("auth-internal",e=>{const n=ht(e.getProvider("auth").getImmediate());return new jte(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(EF,"0.23.2",function $te(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Qe(EF,"0.23.2","esm2017")}("Browser");class TF{constructor(){return oI("auth")}}const hD=new Map,SF={activated:!1,tokenObservers:[]},Yte={initialized:!1,enabled:!1};function He(t){return hD.get(t)||Object.assign({},SF)}function pf(){return Yte}const fD="https://content-firebaseappcheck.googleapis.com/v1",ene="exchangeDebugToken",AF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nne{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Bh,yield function rne(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Bh,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const bt=new hr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pD(t){if(!He(t).activated)throw bt.create("use-before-activation",{appName:t.name})}function yf(t,e){return mD.apply(this,arguments)}function mD(){return mD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw bt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw bt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw bt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),mD.apply(this,arguments)}function MF(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${fD}/projects/${n}/apps/${r}:${ene}?key=${i}`,body:{debug_token:e}}}const ane="firebase-app-check-database",une=1,gc="firebase-app-check-store";let _f=null;function yD(){return yD=g(function*(t,e){const r=(yield function NF(){return _f||(_f=new Promise((t,e)=>{try{const n=indexedDB.open(ane,une);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(bt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gc,{keyPath:"compositeKey"})}}catch(n){e(bt.create("storage-open",{originalErrorMessage:n?.message}))}}),_f)}()).transaction(gc,"readwrite"),s=r.objectStore(gc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(bt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),yD.apply(this,arguments)}const mc=new Qo("@firebase/app-check");function wD(t,e){return Ci()?function lne(t,e){return function kF(t,e){return yD.apply(this,arguments)}(function PF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{mc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ED(){return pf().enabled}function DD(){return bD.apply(this,arguments)}function bD(){return bD=g(function*(){const t=pf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bD.apply(this,arguments)}const mne={error:"UNKNOWN_ERROR"};function yne(t){return $_.encodeString(JSON.stringify(t),!1)}function vf(t){return CD.apply(this,arguments)}function CD(){return CD=g(function*(t,e=!1){const n=t.app;pD(n);const r=He(n);let s,i=r.token;if(i&&!ia(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ia(u)?i=u:yield wD(n,void 0))}if(!e&&i&&ia(i))return{token:i.token};let a,o=!1;if(ED()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yf(MF(n,yield DD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield wD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield He(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?mc.warn(u.message):mc.error(u),s=u}return i?s?a=ia(i)?{token:i.token,internalError:s}:VF(s):(a={token:i.token},r.token=i,yield wD(n,i)):a=VF(s),o&&function LF(t,e){const n=He(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),CD.apply(this,arguments)}function TD(){return TD=g(function*(t){const e=t.app;pD(e);const{provider:n}=He(e);if(ED()){const r=yield DD(),{token:i}=yield yf(MF(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),TD.apply(this,arguments)}function AD(t,e){const n=He(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function FF(t){const{app:e}=t,n=He(e);let r=n.tokenRefresher;r||(r=function _ne(t){const{app:e}=t;return new nne(g(function*(){let r;if(r=He(e).token?yield vf(t,!0):yield vf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=He(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},AF.RETRIAL_MIN_WAIT,AF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ia(t){return t.expireTimeMillis-Date.now()>0}function VF(t){return{token:yne(mne),error:t}}class vne{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=He(this.app);for(const n of e)AD(this.app,n.next);return Promise.resolve()}}const qF="app-check-internal";!function Rne(){en(new Vt("app-check",t=>function wne(t,e){return new vne(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qF).initialize()})),en(new Vt(qF,t=>function Ine(t){return{getToken:e=>vf(t,e),getLimitedUseToken:()=>function OF(t){return TD.apply(this,arguments)}(t),addTokenListener:e=>function SD(t,e,n,r){const{app:i}=t,s=He(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ia(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),FF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>FF(t))}(t,"INTERNAL",e),removeTokenListener:e=>AD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Qe("@firebase/app-check","0.8.0")}();class KF{constructor(){return oI("app-check")}}typeof window<"u"&&window;var N,Vne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={},RD=RD||{},K=Vne||self;function If(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function yc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var PD="closure_uid_"+(1e9*Math.random()>>>0),Une=0;function jne(t,e,n){return t.call.apply(t.bind,arguments)}function $ne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return(Bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jne:$ne).apply(null,arguments)}function Ef(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}ki.prototype.s=!1,ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Bne(t){Object.prototype.hasOwnProperty.call(t,PD)&&t[PD]||(t[PD]=++Une)}(this)},ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function OD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(If(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var Gne=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",()=>{},e),K.removeEventListener("test",()=>{},e)}catch{}return t}();function _c(t){return/^[\s\xa0]*$/.test(t)}function Df(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function yr(t){return-1!=Df().indexOf(t)}function FD(t){return FD[" "](t),t}FD[" "]=function(){};var VD,qne=yr("Opera"),sa=yr("Trident")||yr("MSIE"),JF=yr("Edge"),LD=JF||sa,XF=yr("Gecko")&&!(-1!=Df().toLowerCase().indexOf("webkit")&&!yr("Edge"))&&!(yr("Trident")||yr("MSIE"))&&!yr("Edge"),Wne=-1!=Df().toLowerCase().indexOf("webkit")&&!yr("Edge");function ZF(){var t=K.document;return t?t.documentMode:void 0}e:{var BD="",UD=function(){var t=Df();return XF?/rv:([^\);]+)(\)|;)/.exec(t):JF?/Edge\/([\d\.]+)/.exec(t):sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Wne?/WebKit\/(\S+)/.exec(t):qne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(UD&&(BD=UD?UD[1]:""),sa){var jD=ZF();if(null!=jD&&jD>parseFloat(BD)){VD=String(jD);break e}}VD=BD}var Kne=K.document&&sa&&(ZF()||parseInt(VD,10))||void 0;function vc(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XF){e:{try{FD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vc.$.h.call(this)}}ft(vc,Ut);var Qne={2:"touch",3:"pen",4:"mouse"};vc.prototype.h=function(){vc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wc="closure_listenable_"+(1e6*Math.random()|0),Yne=0;function Jne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Yne,this.fa=this.ia=!1}function bf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function HD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tL(t){const e={};for(const n in t)e[n]=t[n];return e}const nL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<nL.length;s++)n=nL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cf(t){this.src=t,this.g={},this.h=0}function GD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function zD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Cf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=zD(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Jne(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var qD="closure_lm_"+(1e6*Math.random()|0),WD={};function iL(t,e,n,r,i){if(r&&r.once)return oL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iL(t,e[s],n,r,i);return null}return n=JD(n),t&&t[wc]?t.O(e,n,yc(r)?!!r.capture:!!r,i):sL(t,e,n,!1,r,i)}function sL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yc(i)?!!i.capture:!!i,a=QD(t);if(a||(t[qD]=a=new Cf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Zne(){const e=ere;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function oL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oL(t,e[s],n,r,i);return null}return n=JD(n),t&&t[wc]?t.P(e,n,yc(r)?!!r.capture:!!r,i):sL(t,e,n,!0,r,i)}function aL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)aL(t,e[s],n,r,i);else r=yc(r)?!!r.capture:!!r,n=JD(n),t&&t[wc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=zD(s=t.g[e],n,r,i))&&(bf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=QD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zD(e,n,r,i)),(n=-1<t?e[t]:null)&&KD(n))}function KD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[wc])GD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=QD(e))?(GD(n,t),0==n.h&&(n.src=null,e[qD]=null)):bf(t)}}}function uL(t){return t in WD?WD[t]:WD[t]="on"+t}function ere(t,e){if(t.fa)t=!0;else{e=new vc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&KD(t),t=n.call(r,e)}return t}function QD(t){return(t=t[qD])instanceof Cf?t:null}var YD="__closure_events_fn_"+(1e9*Math.random()>>>0);function JD(t){return"function"==typeof t?t:(t[YD]||(t[YD]=function(e){return t.handleEvent(e)}),t[YD])}function pt(){ki.call(this),this.i=new Cf(this),this.S=this,this.J=null}function Ct(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;rL(e=new Ut(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tf(o,r,!0,e)&&i}if(i=Tf(o=e.g=t,r,!0,e)&&i,i=Tf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Tf(o=e.g=n[s],r,!1,e)&&i}function Tf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&GD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ft(pt,ki),pt.prototype[wc]=!0,pt.prototype.removeEventListener=function(t,e,n,r){aL(this,t,e,n,r)},pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bf(n[r]);delete t.g[e],t.h--}}this.J=null},pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var XD=K.JSON.stringify;function nre(){var t=ZD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cL=new class tre{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ire,t=>t.reset());class ire{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sre(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ore(t){K.setTimeout(()=>{throw t},0)}let Ic,Ec=!1,ZD=new class rre{constructor(){this.h=this.g=null}add(e,n){const r=cL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},lL=()=>{const t=K.Promise.resolve(void 0);Ic=()=>{t.then(are)}};var are=()=>{for(var t;t=nre();){try{t.h.call(t.g)}catch(n){ore(n)}var e=cL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ec=!1};function Sf(t,e){pt.call(this),this.h=t||1,this.g=e||K,this.j=Bt(this.qb,this),this.l=Date.now()}function eb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function tb(t,e,n){if("function"==typeof t)n&&(t=Bt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bt(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function dL(t){t.g=tb(()=>{t.g=null,t.i&&(t.i=!1,dL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ft(Sf,pt),(N=Sf.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ct(this,"tick"),this.ga&&(eb(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Sf.$.N.call(this),eb(this),delete this.g};class ure extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dL(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(t){ki.call(this),this.h=t,this.g={}}ft(Dc,ki);var hL=[];function fL(t,e,n,r){Array.isArray(n)||(n&&(hL[0]=n.toString()),n=hL);for(var i=0;i<n.length;i++){var s=iL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pL(t){HD(t.g,function(e,n){this.g.hasOwnProperty(n)&&KD(e)},t),t.g={}}function Af(){this.g=!0}function oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return XD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Dc.prototype.N=function(){Dc.$.N.call(this),pL(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Af.prototype.Ea=function(){this.g=!1},Af.prototype.info=function(){};var Ss={},gL=null;function Mf(){return gL=gL||new pt}function mL(t){Ut.call(this,Ss.Ta,t)}function bc(t){const e=Mf();Ct(e,new mL(e))}function yL(t,e){Ut.call(this,Ss.STAT_EVENT,t),this.stat=e}function nn(t){const e=Mf();Ct(e,new yL(e,t))}function _L(t,e){Ut.call(this,Ss.Ua,t),this.size=e}function Cc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}Ss.Ta="serverreachability",ft(mL,Ut),Ss.STAT_EVENT="statevent",ft(yL,Ut),Ss.Ua="timingevent",ft(_L,Ut);var xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nb(){}function IL(){}nb.prototype.h=null;var sb,Tc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rb(){Ut.call(this,"d")}function ib(){Ut.call(this,"c")}function Nf(){}function Sc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Dc(this),this.P=fre,this.V=new Sf(t=LD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EL}function EL(){this.i=null,this.g="",this.h=!1}ft(rb,Ut),ft(ib,Ut),ft(Nf,nb),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},sb=new Nf;var fre=45e3,ob={},kf={};function ab(t,e,n){t.L=1,t.v=Ff(Zr(e)),t.s=n,t.S=!0,DL(t,null)}function DL(t,e){t.G=Date.now(),Ac(t),t.A=Zr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),RL(n.i,"t",r),t.C=0,n=t.l.J,t.h=new EL,t.g=rV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ure(Bt(t.Pa,t,t.g),t.O)),fL(t.U,t.g,"readystatechange",t.nb),e=t.I?tL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),bc(),function cre(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function bL(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function CL(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=pre(t,n),i==kf){4==e&&(t.o=4,nn(14),r=!1),oa(t.j,t.m,null,"[Incomplete Response]");break}if(i==ob){t.o=4,nn(15),oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}oa(t.j,t.m,i,null),ub(t,i)}bL(t)&&i!=kf&&i!=ob&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gb(e),e.M=!0,nn(11))):(oa(t.j,t.m,n,"[Invalid Chunked Response]"),As(t),Mc(t))}function pre(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?kf:(n=Number(e.substring(n,r)),isNaN(n)?ob:(r+=1)+n>e.length?kf:(e=e.slice(r,r+n),t.C=r+n,e))}function Ac(t){t.Y=Date.now()+t.P,TL(t,t.P)}function TL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Cc(Bt(t.lb,t),e)}function Rf(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function Mc(t){0==t.l.H||t.J||ZL(t.l,t)}function As(t){Rf(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,eb(t.V),pL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ub(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||cb(n.i,t)))if(!t.K&&cb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;$f(n),Uf(n)}pb(n),nn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Cc(Bt(n.ib,n),6e3));if(1>=FL(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xs(n,11)}else if((t.K||n.g==t)&&$f(n),!_c(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(lb(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Me(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=nV(r,r.J?r.pa:null,r.Y),o.K){LL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Rf(a),Ac(a)),r.g=o}else JL(r);0<n.j.length&&jf(n)}else"stop"!=c[0]&&"close"!=c[0]||xs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xs(n,7):fb(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}bc()}catch{}}function SL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(If(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function mre(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(If(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function gre(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(If(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Sc.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==_r(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=_r(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||LD||this.g&&(this.h.h||this.g.ja()||zL(this.g)))){this.J||4!=l||7==e||bc(),Rf(this);var n=this.g.da();this.ca=n;t:if(bL(this)){var r=zL(this.g);t="";var i=r.length,s=4==_r(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){As(this),Mc(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function lre(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_c(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,nn(12),As(this),Mc(this);break e}oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ub(this,n)}this.S?(CL(this,l,o),LD&&this.i&&3==l&&(fL(this.U,this.V,"tick",this.mb),this.V.start())):(oa(this.j,this.m,o,null),ub(this,o)),4==l&&As(this),this.i&&!this.J&&(4==l?ZL(this.l,this):(this.i=!1,Ac(this)))}else(function Pre(t){const e={};t=(t.g&&2<=_r(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(_c(t[r]))continue;var n=sre(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Xne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),As(this),Mc(this)}}}catch{}},N.mb=function(){if(this.g){var t=_r(this.g),e=this.g.ja();this.C<e.length&&(Rf(this),CL(this,t,e),this.i&&4!=t&&Ac(this))}},N.cancel=function(){this.J=!0,As(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(bc(),nn(17)),As(this),this.o=2,Mc(this)):TL(this,this.Y-t)};var AL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ms){this.h=t.h,Pf(this,t.j),this.s=t.s,this.g=t.g,Of(this,t.m),this.l=t.l;var e=t.i,n=new kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ML(this,n),this.o=t.o}else t&&(e=String(t).match(AL))?(this.h=!1,Pf(this,e[1]||"",!0),this.s=xc(e[2]||""),this.g=xc(e[3]||"",!0),Of(this,e[4]),this.l=xc(e[5]||"",!0),ML(this,e[6]||"",!0),this.o=xc(e[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}function Zr(t){return new Ms(t)}function Pf(t,e,n){t.j=n?xc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Of(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ML(t,e,n){e instanceof kc?(t.i=e,function Dre(t,e){e&&!t.j&&(Ri(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(NL(this,r),RL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Nc(e,Ire)),t.i=new kc(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function Ff(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_re),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _re(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Nc(e,xL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Nc(e,xL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Nc(n,"/"==n.charAt(0)?wre:vre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Nc(n,Ere)),t.join("")};var xL=/[#\/\?@]/g,vre=/[#\?:]/g,wre=/[#\?]/g,Ire=/[#\?@]/g,Ere=/#/g;function kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ri(t){t.g||(t.g=new Map,t.h=0,t.i&&function yre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function NL(t,e){Ri(t),e=aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kL(t,e){return Ri(t),e=aa(t,e),t.g.has(e)}function RL(t,e,n){NL(t,e),0<n.length&&(t.i=null,t.g.set(aa(t,e),OD(n)),t.h+=n.length)}function aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function PL(t){this.l=t||Cre,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=kc.prototype).add=function(t,e){Ri(this),this.i=null,t=aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Ri(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){Ri(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){Ri(this);let e=[];if("string"==typeof t)kL(this,t)&&(e=e.concat(this.g.get(aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return Ri(this),this.i=null,kL(this,t=aa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Cre=10;function OL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function FL(t){return t.h?1:t.g?t.g.size:0}function cb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function lb(t,e){t.g?t.g.add(e):t.h=e}function LL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function VL(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return OD(t.i)}PL.prototype.cancel=function(){if(this.i=VL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Tre=class{stringify(t){return K.JSON.stringify(t,void 0)}parse(t){return K.JSON.parse(t,void 0)}};function Sre(){this.g=new Tre}function Are(t,e,n){const r=n||"";try{SL(t,function(i,s){let o=i;yc(i)&&(o=XD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rc(t){this.l=t.fc||null,this.j=t.ob||!1}function Vf(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=db,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(Rc,nb),Rc.prototype.g=function(){return new Vf(this.l,this.j)},Rc.prototype.i=function(t){return function(){return t}}({}),ft(Vf,pt);var db=0;function BL(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oc(t)}function Oc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Vf.prototype).open=function(t,e){if(this.readyState!=db)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oc(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pc(this)),this.readyState=db},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BL(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pc(this):Oc(this),3==this.readyState&&BL(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Pc(this))},N.Ya=function(t){this.g&&(this.response=t,Pc(this))},N.ka=function(){this.g&&Pc(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xre=K.JSON.parse;function Ge(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UL,this.L=this.M=!1}ft(Ge,pt);var UL="",Nre=/^https?$/i,kre=["POST","PUT"];function jL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$L(t),Bf(t)}function $L(t){t.F||(t.F=!0,Ct(t,"complete"),Ct(t,"error"))}function HL(t){if(t.h&&typeof RD<"u"&&(!t.C[1]||4!=_r(t)||2!=t.da()))if(t.v&&4==_r(t))tb(t.La,0,t);else if(Ct(t,"readystatechange"),4==_r(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(AL)[1]||null;!i&&K.self&&K.self.location&&(i=K.self.location.protocol.slice(0,-1)),r=!Nre.test(i?i.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var s=2<_r(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",$L(t)}}finally{Bf(t)}}}function Bf(t,e){if(t.g){GL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function GL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function _r(t){return t.g?t.g.readyState:0}function zL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case UL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qL(t){let e="";return HD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function hb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function Fc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WL(t){this.Ga=0,this.j=[],this.l=new Af,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fc("baseRetryDelayMs",5e3,t),this.hb=Fc("retryDelaySeedMs",1e4,t),this.eb=Fc("forwardChannelMaxRetries",2,t),this.xa=Fc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new PL(t&&t.concurrentRequestLimit),this.Ja=new Sre,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fb(t){if(KL(t),3==t.H){var e=t.W++,n=Zr(t.I);if(Me(n,"SID",t.K),Me(n,"RID",e),Me(n,"TYPE","terminate"),Lc(t,n),(e=new Sc(t,t.l,e)).L=2,e.v=Ff(Zr(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=rV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ac(e)}tV(t)}function Uf(t){t.g&&(gb(t),t.g.cancel(),t.g=null)}function KL(t){Uf(t),t.u&&(K.clearTimeout(t.u),t.u=null),$f(t),t.i.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function jf(t){if(!OL(t.i)&&!t.m){t.m=!0;var e=t.Na;Ic||lL(),Ec||(Ic(),Ec=!0),ZD.add(e,t),t.C=0}}function QL(t,e){var n;n=e?e.m:t.W++;const r=Zr(t.I);Me(r,"SID",t.K),Me(r,"RID",n),Me(r,"AID",t.V),Lc(t,r),t.o&&t.s&&hb(r,t.o,t.s),n=new Sc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YL(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),lb(t.i,n),ab(n,r,e)}function Lc(t,e){t.na&&HD(t.na,function(n,r){Me(e,r,n)}),t.h&&SL({},function(n,r){Me(e,r,n)})}function YL(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Are(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JL(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ic||lL(),Ec||(Ic(),Ec=!0),ZD.add(e,t),t.A=0}}function pb(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Cc(Bt(t.Ma,t),eV(t,t.A)),t.A++,0))}function gb(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function XL(t){t.g=new Sc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);Me(e,"RID","rpc"),Me(e,"SID",t.K),Me(e,"AID",t.V),Me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Me(e,"TO",t.qa),Me(e,"TYPE","xmlhttp"),Lc(t,e),t.o&&t.s&&hb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ff(Zr(e)),n.s=null,n.S=!0,DL(n,t)}function $f(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function ZL(t,e){var n=null;if(t.g==e){$f(t),gb(t),t.g=null;var r=2}else{if(!cb(t.i,e))return;n=e.F,LL(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ct(r=Mf(),new _L(r,n)),jf(t)}else JL(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ore(t,e){return!(FL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Cc(Bt(t.Na,t,e),eV(t,t.C)),t.C++,0)))}(t,e)||2==r&&pb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xs(t,5);break;case 4:xs(t,10);break;case 3:xs(t,6);break;default:xs(t,2)}}function eV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Bt(t.pb,t);n||(n=new Ms("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||Pf(n,"https"),Ff(n)),function Mre(t,e){const n=new Af;if(K.Image){const r=new Image;r.onload=Ef(Lf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ef(Lf,n,r,"TestLoadImage: error",!1,e),r.onabort=Ef(Lf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ef(Lf,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else nn(2);t.H=0,t.h&&t.h.za(e),tV(t),KL(t)}function tV(t){if(t.H=0,t.ma=[],t.h){const e=VL(t.i);(0!=e.length||0!=t.j.length)&&(YF(t.ma,e),YF(t.ma,t.j),t.i.i.length=0,OD(t.j),t.j.length=0),t.h.ya()}}function nV(t,e,n){var r=n instanceof Ms?Zr(n):new Ms(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Of(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ms(null);r&&Pf(s,r),e&&(s.g=e),i&&Of(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Me(r,n,e),Me(r,"VER",t.ra),Lc(t,r),r}function rV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(n&&t.Ha&&!t.va?new Rc({ob:!0}):t.va)).Oa(t.J),e}function iV(){}function Hf(){if(sa&&!(10<=Number(Kne)))throw Error("Environmental error: no available transport.")}function bn(t,e){pt.call(this),this.g=new WL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_c(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ua(this)}function sV(t){rb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function oV(){ib.call(this),this.status=1}function ua(t){this.g=t}function Kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mb(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Ge.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sb.g(),this.C=function wL(t){return t.h||(t.h=t.i())}(this.u?this.u:sb),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void jL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=K.FormData&&t instanceof K.FormData,!(0<=QF(kre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GL(this),0<this.B&&((this.L=function Rre(t){return sa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=tb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jL(this,s)}},N.ua=function(){typeof RD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Bf(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bf(this,!0)),Ge.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?HL(this):this.kb())},N.kb=function(){HL(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xre(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=WL.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Sc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=tL(s),rL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YL(this,i,e),Me(n=Zr(this.I),"RID",t),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),Lc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(qL(s)))+"&"+e:this.o&&hb(n,this.o,s)),lb(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",e),Me(n,"SID","null"),i.aa=!0,ab(i,n,null)):ab(i,n,e),this.H=2}}else 3==this.H&&(t?QL(this,t):0==this.j.length||OL(this.i)||QL(this))},N.Ma=function(){if(this.u=null,XL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Cc(Bt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nn(10),Uf(this),XL(this))},N.ib=function(){null!=this.v&&(this.v=null,Uf(this),pb(this),nn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nn(2)):(this.l.info("Failed to ping google.com"),nn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=iV.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Hf.prototype.g=function(t,e){return new bn(t,e)},ft(bn,pt),bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nV(t,null,t.Y),jf(t)},bn.prototype.close=function(){fb(this.g)},bn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=XD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&jf(e)},bn.prototype.N=function(){this.g.h=null,delete this.j,fb(this.g),delete this.g,bn.$.N.call(this)},ft(sV,rb),ft(oV,ib),ft(ua,iV),ua.prototype.Ba=function(){Ct(this.g,"a")},ua.prototype.Aa=function(t){Ct(this.g,new sV(t))},ua.prototype.za=function(t){Ct(this.g,new oV)},ua.prototype.ya=function(){Ct(this.g,"b")},ft(Kn,function Fre(){this.blockSize=-1}),Kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)mb(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mb(this,r),i=0;break}}this.h=i,this.i+=e},Kn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Lre={};function yb(t){return-128<=t&&128>t?function zne(t,e){var n=Lre;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ye([0|e],0>e?-1:0)}):new ye([0|t],0>t?-1:0)}function vr(t){if(isNaN(t)||!isFinite(t))return ca;if(0>t)return Tt(vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_b;return new ye(e,0)}var _b=4294967296,ca=yb(0),vb=yb(1),uV=yb(16777216);function ei(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function On(t){return-1==t.h}function Tt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(vb)}function Gf(t,e){return t.add(Tt(e))}function zf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Vc(t,e){this.g=t,this.h=e}function qf(t,e){if(ei(e))throw Error("division by zero");if(ei(t))return new Vc(ca,ca);if(On(t))return e=qf(Tt(t),e),new Vc(Tt(e.g),Tt(e.h));if(On(e))return e=qf(t,Tt(e)),new Vc(Tt(e.g),e.h);if(30<t.g.length){if(On(t)||On(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vb,r=e;0>=r.X(t);)n=cV(n),r=cV(r);var i=la(n,1),s=la(r,1);for(r=la(r,2),n=la(n,2);!ei(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=la(r,1),n=la(n,1)}return e=Gf(t,i.R(e)),new Vc(i,e)}for(i=ca;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=vr(n)).R(e);On(o)||0<o.X(t);)o=(s=vr(n-=r)).R(e);ei(s)&&(s=vb),i=i.add(s),t=Gf(t,o)}return new Vc(i,t)}function cV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function la(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ye(i,t.h)}(N=ye.prototype).ea=function(){if(On(this))return-Tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_b+r)*e,e*=_b}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ei(this))return"0";if(On(this))return"-"+Tt(this).toString(t);for(var e=vr(Math.pow(t,6)),n=this,r="";;){var i=qf(n,e).g,s=((0<(n=Gf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ei(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return On(t=Gf(this,t))?-1:ei(t)?0:1},N.abs=function(){return On(this)?Tt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ye(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(ei(this)||ei(t))return ca;if(On(this))return On(t)?Tt(this).R(Tt(t)):Tt(Tt(this).R(t));if(On(t))return Tt(this.R(Tt(t)));if(0>this.X(uV)&&0>t.X(uV))return vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,zf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,zf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)},N.gb=function(t){return qf(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)},Hf.prototype.createWebChannel=Hf.prototype.g,bn.prototype.send=bn.prototype.u,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,xf.NO_ERROR=0,xf.TIMEOUT=8,xf.HTTP_ERROR=6,vL.COMPLETE="complete",IL.EventType=Tc,Tc.OPEN="a",Tc.CLOSE="b",Tc.ERROR="c",Tc.MESSAGE="d",pt.prototype.listen=pt.prototype.O,Ge.prototype.listenOnce=Ge.prototype.P,Ge.prototype.getLastError=Ge.prototype.Sa,Ge.prototype.getLastErrorCode=Ge.prototype.Ia,Ge.prototype.getStatus=Ge.prototype.da,Ge.prototype.getResponseJson=Ge.prototype.Wa,Ge.prototype.getResponseText=Ge.prototype.ja,Ge.prototype.send=Ge.prototype.ha,Ge.prototype.setWithCredentials=Ge.prototype.Oa,Kn.prototype.digest=Kn.prototype.l,Kn.prototype.reset=Kn.prototype.reset,Kn.prototype.update=Kn.prototype.j,ye.prototype.add=ye.prototype.add,ye.prototype.multiply=ye.prototype.R,ye.prototype.modulo=ye.prototype.gb,ye.prototype.compare=ye.prototype.X,ye.prototype.toNumber=ye.prototype.ea,ye.prototype.toString=ye.prototype.toString,ye.prototype.getBits=ye.prototype.D,ye.fromNumber=vr,ye.fromString=function aV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Tt(aV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vr(Math.pow(e,8)),r=ca,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vr(Math.pow(e,s)),r=r.R(s).add(vr(o))):r=(r=r.R(n)).add(vr(o))}return r};var Vre=Wn.createWebChannelTransport=function(){return new Hf},Bre=Wn.getStatEventTarget=function(){return Mf()},wb=Wn.ErrorCode=xf,Ure=Wn.EventType=vL,jre=Wn.Event=Ss,lV=Wn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$re=Wn.FetchXmlHttpFactory=Rc,Wf=Wn.WebChannel=IL,Hre=Wn.XhrIo=Ge,Gre=Wn.Md5=Kn,da=Wn.Integer=ye;const dV="@firebase/firestore";class gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");let ha="9.23.0";const Pi=new Qo("@firebase/firestore");function Ib(){return Pi.logLevel}function C(t,...e){if(Pi.logLevel<=ae.DEBUG){const n=e.map(Eb);Pi.debug(`Firestore (${ha}): ${t}`,...n)}}function Ye(t,...e){if(Pi.logLevel<=ae.ERROR){const n=e.map(Eb);Pi.error(`Firestore (${ha}): ${t}`,...n)}}function Qn(t,...e){if(Pi.logLevel<=ae.WARN){const n=e.map(Eb);Pi.warn(`Firestore (${ha}): ${t}`,...n)}}function Eb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function O(t,e){t||P()}function x(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class qre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wre{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new hV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new gt(e)}}class Kre{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qre{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Kre(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yre{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new fV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Jre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function z(t,e){return t<e?-1:t>e?1:0}function fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new Be(0,0))}static max(){return new L(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Bc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends Bc{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const Xre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Bc{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return Xre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ue.fromString(e))}static fromName(e){return new M(ue.fromString(e).popFirst(5))}static empty(){return new M(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ue(e.slice()))}}function yV(t){return new Cn(t.readTime,t.key,-1)}class Cn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cn(L.min(),M.empty(),-1)}static max(){return new Cn(L.max(),M.empty(),-1)}}function bb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:z(t.largestBatchId,e.largestBatchId))}const _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oi(t){return Cb.apply(this,arguments)}function Cb(){return Cb=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==_V)throw t;C("LocalStore","Unexpectedly lost primary lease")}),Cb.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fi(t){return"IndexedDbTransactionError"===t.name}let Tn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function $c(t){return null==t}function Hc(t){return 0===t&&1/t==-1/0}function AV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Se{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??St.RED,this.left=i??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new St(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1,St.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new St(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xV(this.data.getIterator())}getIteratorFrom(e){return new xV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class xV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pn{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new pn([])}unionWith(e){let n=new xe(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class NV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NV("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const Die=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(O(!!t),"string"==typeof t){let e=0;const n=Die.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ti(t){return"string"==typeof t?lt.fromBase64String(t):lt.fromUint8Array(t)}function Zf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ep(t){const e=t.mapValue.fields.__previous_value__;return Zf(e)?ep(e):e}function Gc(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}class bie{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}const Bi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zf(t)?4:OV(t)?9007199254740991:10:P()}function Ir(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vi(r.timestampValue),o=Vi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ti(t.bytesValue).isEqual(ti(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?Hc(s)===Hc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(AV(s)!==AV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ir(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function zc(t,e){return void 0!==(t.values||[]).find(n=>Ir(n,e))}function ji(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return kV(t.timestampValue,e.timestampValue);case 4:return kV(Gc(t),Gc(e));case 5:return z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ti(i),a=ti(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=z(o[u],a[u]);if(0!==c)return c}return z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=z(ze(i.latitude),ze(s.latitude));return 0!==o?o:z(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ji(o[u],a[u]);if(c)return c}return z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Bi.mapValue&&s===Bi.mapValue)return 0;if(i===Bi.mapValue)return 1;if(s===Bi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=z(a[l],c[l]);if(0!==d)return d;const h=ji(o[a[l]],u[c[l]]);if(0!==h)return h}return z(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function kV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return z(t,e);const n=Vi(t),r=Vi(e),i=z(n.seconds,r.seconds);return 0!==i?i:z(n.nanos,r.nanos)}function ga(t){return Ab(t)}function Ab(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Vi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ti(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ab(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ab(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function Mb(t){return!!t&&"integerValue"in t}function qc(t){return!!t&&"arrayValue"in t}function RV(t){return!!t&&"nullValue"in t}function PV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rp(t){return!!t&&"mapValue"in t}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(Wc(this.value))}}function VV(t){const e=[];return Li(t.fields,(n,r)=>{const i=new Je([n]);if(rp(r)){const s=VV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}class Ne{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ne(e,0,L.min(),L.min(),L.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new Ne(e,1,n,L.min(),r,i,0)}static newNoDocument(e,n){return new Ne(e,2,n,L.min(),L.min(),At.empty(),0)}static newUnknownDocument(e,n){return new Ne(e,3,n,L.min(),L.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(L.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ne&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $i{constructor(e,n){this.position=e,this.inclusive=n}}function BV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):ji(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function UV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}class ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class jV{}class ne extends jV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Aie(e,n,r):"array-contains"===n?new Nie(e,r):"in"===n?new WV(e,r):"not-in"===n?new kie(e,r):"array-contains-any"===n?new Rie(e,r):new ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Mie(e,r):new xie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ji(n,this.value)):null!==n&&Ui(this.value)===Ui(n)&&this.matchesComparison(ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _e extends jV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _e(e,n)}matches(e){return ya(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ya(t){return"and"===t.op}function Nb(t){return function $V(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}(t)&&ya(t)}function kb(t){if(t instanceof ne)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(Nb(t))return t.filters.map(e=>kb(e)).join(",");{const e=t.filters.map(n=>kb(n)).join(",");return`${t.op}(${e})`}}function HV(t,e){return t instanceof ne?(n=t,(r=e)instanceof ne&&n.op===r.op&&n.field.isEqual(r.field)&&Ir(n.value,r.value)):t instanceof _e?function(n,r){return r instanceof _e&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&HV(s,r.filters[o]),!0)}(t,e):void P();var n,r}function zV(t){return t instanceof ne?function(e){return`${e.field.canonicalString()} ${e.op} ${ga(e.value)}`}(t):t instanceof _e?function(e){return e.op.toString()+" {"+e.getFilters().map(zV).join(" ,")+"}"}(t):"Filter"}class Aie extends ne{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mie extends ne{constructor(e,n){super(e,"in",n),this.keys=qV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xie extends ne{constructor(e,n){super(e,"not-in",n),this.keys=qV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class Nie extends ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qc(n)&&zc(n.arrayValue,this.value)}}class WV extends ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&zc(this.value.arrayValue,n)}}class kie extends ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!zc(this.value.arrayValue,n)}}class Rie extends ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}}class Pie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Rb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Pie(t,e,n,r,i,s,o)}function Os(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ga(r)).join(",")),e.dt=n}return e.dt}function Kc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UV(t.startAt,e.startAt)&&UV(t.endAt,e.endAt)}function ip(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ni{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function _a(t){return new ni(t)}function JV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Fs(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function op(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Pb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new ma(n)),e.wt.push(new ma(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ma(Je.keyField(),s))}}}return e.wt}function rn(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=Rb(e.path,e.collectionGroup,Fs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Fs(e))n.push(new ma(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new $i(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $i(e.startAt.position,e.startAt.inclusive):null;e._t=Rb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function ap(t,e,n){return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qc(t,e){return Kc(rn(t),rn(e))&&t.limitType===e.limitType}function XV(t){return`${Os(rn(t))}|lt:${t.limitType}`}function Lb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>zV(r)).join(", ")}]`),$c(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ga(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ga(r)).join(",")),`Target(${n})`}(rn(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Fs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=BV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Fs(n),r)||n.endAt&&!function(i,s,o){const a=BV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Fs(n),r)));var n,r}function e2(t){return(e,n)=>{let r=!1;for(const i of Fs(t)){const s=Oie(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oie(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ji(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return MV(this.inner)}size(){return this.innerSize}}const Fie=new Se(M.comparator);function gn(){return Fie}const t2=new Se(M.comparator);function Jc(...t){let e=t2;for(const n of t)e=e.insert(n.key,n);return e}function n2(t){let e=t2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Er(){return Xc()}function r2(){return Xc()}function Xc(){return new ri(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lie=new Se(M.comparator),Vie=new xe(M.comparator);function Z(...t){let e=Vie;for(const n of t)e=e.add(n);return e}const Bie=new xe(z);function i2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function s2(t){return{integerValue:""+t}}function o2(t,e){return function IV(t){return"number"==typeof t&&Number.isInteger(t)&&!Hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?s2(e):i2(t,e)}class up{constructor(){this._=void 0}}function Uie(t,e,n){return t instanceof va?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Zf(i)&&(i=ep(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ls?u2(t,e):t instanceof Vs?c2(t,e):function(r,i){const s=a2(r,i),o=l2(s)+l2(r.gt);return Mb(s)&&Mb(r.gt)?s2(o):i2(r.serializer,o)}(t,e)}function jie(t,e,n){return t instanceof Ls?u2(t,e):t instanceof Vs?c2(t,e):n}function a2(t,e){return t instanceof wa?Mb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class va extends up{}class Ls extends up{constructor(e){super(),this.elements=e}}function u2(t,e){const n=d2(e);for(const r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vs extends up{constructor(e){super(),this.elements=e}}function c2(t,e){let n=d2(e);for(const r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}class wa extends up{constructor(e,n){super(),this.serializer=e,this.gt=n}}function l2(t){return ze(t.integerValue||t.doubleValue)}function d2(t){return qc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Hie{constructor(e,n){this.version=e,this.transformResults=n}}class Fe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class lp{}function h2(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ea(t.key,Fe.none()):new Ia(t.key,t.data,Fe.none());{const n=t.data,r=At.empty();let i=new xe(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ii(t.key,r,new pn(i.toArray()),Fe.none())}}function Gie(t,e,n){t instanceof Ia?function(r,i,s){const o=r.value.clone(),a=g2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(r,i,s){if(!cp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=g2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(p2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function el(t,e,n,r){return t instanceof Ia?function(i,s,o,a){if(!cp(i.precondition,s))return o;const u=i.value.clone(),c=m2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(i,s,o,a){if(!cp(i.precondition,s))return o;const u=m2(i.fieldTransforms,a,s),c=s.data;return c.setAll(p2(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,cp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function zie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=a2(r.transform,i||null);null!=s&&(null===n&&(n=At.empty()),n.set(r.field,s))}return n||null}function f2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&fa(n,r,(i,s)=>function $ie(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ls&&r instanceof Ls||n instanceof Vs&&r instanceof Vs?fa(n.elements,r.elements,Ir):n instanceof wa&&r instanceof wa?Ir(n.gt,r.gt):n instanceof va&&r instanceof va);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ia extends lp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends lp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function p2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function g2(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jie(o,a,n[i]))}return r}function m2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Uie(s,o,e))}return r}class Ea extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=h2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(L.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,r)=>f2(n,r))&&fa(this.baseMutations,e.baseMutations,(n,r)=>f2(n,r))}}class jb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=Lie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jb(e,n,r,i)}}class $b{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wie{constructor(e,n){this.count=e,this.unchangedNames=n}}var rt,ce;function _2(t){if(void 0===t)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(t){case rt.OK:return w.OK;case rt.CANCELLED:return w.CANCELLED;case rt.UNKNOWN:return w.UNKNOWN;case rt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case rt.INTERNAL:return w.INTERNAL;case rt.UNAVAILABLE:return w.UNAVAILABLE;case rt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case rt.NOT_FOUND:return w.NOT_FOUND;case rt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case rt.ABORTED:return w.ABORTED;case rt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case rt.DATA_LOSS:return w.DATA_LOSS;default:return P()}}(ce=rt||(rt={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class Hb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dp}static getOrCreateInstance(){return null===dp&&(dp=new Hb),dp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let dp=null;const Kie=new da([4294967295,4294967295],0);function w2(t){const e=function v2(){return new TextEncoder}().encode(t),n=new Gre;return n.update(e),new Uint8Array(n.digest())}function I2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new da([n,r],0),new da([i,s],0)]}class Gb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tl(`Invalid padding: ${n}`);if(r<0)throw new tl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new tl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new tl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=da.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(da.fromNumber(r)));return 1===i.compare(Kie)&&(i=new da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=w2(e),[r,i]=I2(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Gb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=w2(e),[r,i]=I2(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nl(L.min(),i,new Se(z),gn(),Z())}}class rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rl(r,n,Z(),Z(),Z())}}class hp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class E2{constructor(e,n){this.targetId=e,this.Vt=n}}class D2{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class b2{constructor(){this.St=0,this.Dt=T2(),this.Ct=lt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Z(),n=Z(),r=Z();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new rl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=T2()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qie{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gn(),this.zt=C2(),this.Wt=new Se(z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(ip(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Ne.newNoDocument(a,L.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Hb.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,I;const _={localCacheCount:l,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=b?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=b?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(I=null===(y=b?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ti(s).toUint8Array()}catch(l){if(l instanceof NV)return Qn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new Gb(u,o,a)}catch(l){return Qn(l instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ip(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ne.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Z();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new nl(e,n,this.Wt,this.jt,r);return this.jt=gn(),this.zt=C2(),this.Wt=new Se(z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new b2,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xe(z),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new b2),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function C2(){return new Se(M.comparator)}function T2(){return new Se(M.comparator)}const Yie={asc:"ASCENDING",desc:"DESCENDING"},Jie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xie={and:"AND",or:"OR"};class Zie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zb(t,e){return t.useProto3Json||$c(e)?e:{value:e}}function Da(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ese(t,e){return Da(t,e.toTimestamp())}function Xe(t){return O(!!t),L.fromTimestamp(function(e){const n=Vi(e);return new Be(n.seconds,n.nanos)}(t))}function qb(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function A2(t){const e=ue.fromString(t);return O(L2(e)),e}function il(t,e){return qb(t.databaseId,e.path)}function Dr(t,e){const n=A2(e);if(n.get(1)!==t.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(x2(n))}function Wb(t,e){return qb(t.databaseId,e)}function sl(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x2(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function N2(t,e,n){return{name:il(t,e),fields:n.value.mapValue.fields}}function R2(t,e){return{documents:[Wb(t,e.path)]}}function Qb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Wb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return F2(_e.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Hi((l=c).field),direction:sse(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=zb(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function P2(t){let e=function M2(t){const e=A2(t);return 4===e.length?ue.emptyPath():x2(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=O2(l);return d instanceof _e&&Nb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ma(ba((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,$c(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new $i((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new $i(l.values||[],!l.before)}(n.endAt)),function YV(t,e,n,r,i,s,o,a){return new ni(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function O2(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ba(e.unaryFilter.field);return ne.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ba(e.unaryFilter.field);return ne.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ba(e.unaryFilter.field);return ne.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ba(e.unaryFilter.field);return ne.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?function(e){return ne.create(ba(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return _e.create(e.compositeFilter.filters.map(n=>O2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P()}function sse(t){return Yie[t]}function ose(t){return Jie[t]}function ase(t){return Xie[t]}function Hi(t){return{fieldPath:t.canonicalString()}}function ba(t){return Je.fromServerFormat(t.fieldPath)}function F2(t){return t instanceof ne?function(e){if("=="===e.op){if(PV(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NAN"}};if(RV(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PV(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NOT_NAN"}};if(RV(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(e.field),op:ose(e.op),value:e.value}}}(t):t instanceof _e?function(e){const n=e.getFilters().map(r=>F2(r));return 1===n.length?n[0]:{compositeFilter:{op:ase(e.op),filters:n}}}(t):P()}function use(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function L2(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class si{constructor(e,n,r,i,s=L.min(),o=L.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class V2{constructor(e){this.fe=e}}function Yb(t){const e=P2({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ap(e,e.limit,"L"):e}class $s{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Hc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ti(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?OV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}$s.Ve=new $s;class yse{constructor(){this.rn=new nC}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Cn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class nC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ue.comparator)).toArray()}}new Uint8Array(0);class $t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class Gs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Gs(0)}static Mn(){return new Gs(-1)}}class oB{constructor(){this.changes=new ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ne.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&el(r.mutation,i,pn.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=Er();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Jc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Er();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gn();const o=Xc(),a=Xc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ii)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),el(l.mutation,c,l.mutation.getFieldMask(),Be.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Cse(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xc();let i=new Se((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=r2();l.forEach(h=>{if(!s.has(h)){const f=h2(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Ob(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Er());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:n2(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Jc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new ni(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ne.newInvalidDocument(c)))});let o=Jc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&el(c.mutation,u,pn.empty(),Be.now()),Yc(n,u)&&(o=o.insert(a,u))}),o})}}class Tse{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Xe(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Yb(r.bundledQuery),readTime:Xe(r.readTime)}),v.resolve();var r}}class Sse{constructor(){this.overlays=new Se(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Er();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Er(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Er(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Er(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $b(n,r));let s=this.ls.get(n);void 0===s&&(s=Z(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class rC{constructor(){this.fs=new xe(yt.ds),this.ws=new xe(yt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new yt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new yt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ue([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ue([])),r=new yt(n,e),i=new yt(n,e+1);let s=Z();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||z(e.As,n.As)}static _s(e,n){return z(e.As,n.As)||M.comparator(e.key,n.key)}}class Ase{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xe(yt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Ub(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(z);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new yt(new M(s),0);let a=new xe(z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new yt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mse{constructor(e){this.Ds=e,this.docs=new Se(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ne.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||bb(yV(l),r)<=0||(i.has(l.key)||Yc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xse(this)}getSize(e){return v.resolve(this.size)}}class xse extends oB{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Nse{constructor(e){this.persistence=e,this.xs=new ri(n=>Os(n),Kc),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rC,this.targetCount=0,this.Ms=Gs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Gs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class iC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Tn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nse(this),this.indexManager=new yse,this.remoteDocumentCache=new Mse(r=>this.referenceDelegate.Ls(r)),this.serializer=new V2(n),this.qs=new Tse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Ase(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new kse(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class kse extends vV{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Qs=new rC,this.js=null}static zs(e){return new Ip(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class uC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uC(e,n.fromCache,r,i)}}class fB{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(JV(n))return v.resolve(null);let r=rn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ap(n,null,"F"),r=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,ap(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return JV(n)||i.isEqual(L.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Ib()<=ae.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lb(n)),this.Wi(e,o,n,function mV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new Be(n+1,0):new Be(n,r));return new Cn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new xe(e2(e));return n.forEach((i,s)=>{Yc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Ib()<=ae.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Lb(n)),this.Ui.getDocumentsMatchingQuery(e,n,Cn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Pse{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Se(z),this.Yi=new ri(s=>Os(s),Kc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function gB(t,e){return cC.apply(this,arguments)}function cC(){return cC=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Z();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),cC.apply(this,arguments)}function mB(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Lse(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Aa(t,e,n){return lC.apply(this,arguments)}function lC(){return lC=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fi(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),lC.apply(this,arguments)}function bp(t,e,n){const r=x(t);let i=L.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:L.min(),n?s:Z())).next(a=>(function wB(t,e,n){let r=t.Xi.get(e)||L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function ZV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class gC{constructor(){this.activeTargetIds=function Vb(){return Bie}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DB{constructor(){this.Hr=new gC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Use{Yr(e){}shutdown(){}}class bB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sp=null;function yC(){return null===Sp?Sp=268435456+Math.round(2147483648*Math.random()):Sp++,"0x"+Sp.toString(16)}const jse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $se{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ht="WebChannelConnection";class Hse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=yC(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Qn("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ha,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${jse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=yC();return new Promise((o,a)=>{const u=new Hre;u.setWithCredentials(!0),u.listenOnce(Ure.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wb.NO_ERROR:const l=u.getResponseJson();C(Ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case wb.TIMEOUT:C(Ht,`RPC '${e}' ${s} timed out`),a(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case wb.HTTP_ERROR:const d=u.getStatus();if(C(Ht,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(w.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{C(Ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(Ht,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=yC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vre(),a=Bre(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new $re({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(Ht,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new $se({ro:y=>{f?C(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(C(Ht,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Ht,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,I,_)=>{y.listen(I,b=>{try{_(b)}catch(R){setTimeout(()=>{throw R},0)}})};return m(d,Wf.EventType.OPEN,()=>{f||C(Ht,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Wf.EventType.CLOSE,()=>{f||(f=!0,C(Ht,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Wf.EventType.ERROR,y=>{f||(f=!0,Qn(Ht,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(w.UNAVAILABLE,"The operation could not be completed")))}),m(d,Wf.EventType.MESSAGE,y=>{var I;if(!f){const _=y.data[0];O(!!_);const R=_.error||(null===(I=_[0])||void 0===I?void 0:I.error);if(R){C(Ht,`RPC '${e}' stream ${i} received error:`,R);const F=R.status;let J=function(Gt){const Cr=rt[Gt];if(void 0!==Cr)return _2(Cr)}(F),Ie=R.message;void 0===J&&(J=w.INTERNAL,Ie="Unknown error status: "+F+" with message "+R.message),f=!0,p.wo(new D(J,Ie)),d.close()}else C(Ht,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,jre.STAT_EVENT,y=>{y.stat===lV.PROXY?C(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===lV.NOPROXY&&C(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Ap(){return typeof document<"u"?document:null}function gl(t){return new Zie(t,!0)}class _C{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class TB{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _C(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gse extends TB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function nse(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(O(void 0===c||"string"==typeof c),lt.fromBase64String(c||"")):(O(void 0===c||c instanceof Uint8Array),lt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:_2(u.code);return new D(c,u.message||"")}(o);n=new D2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Dr(t,r.document.name),s=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):L.min(),a=new At({mapValue:{fields:r.document.fields}}),u=Ne.newFoundDocument(i,s,o,a);n=new hp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Dr(t,r.document),s=r.readTime?Xe(r.readTime):L.min(),o=Ne.newNoDocument(i,s);n=new hp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Dr(t,r.document);n=new hp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Wie(i,s);n=new E2(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return L.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?L.min():s.readTime?Xe(s.readTime):L.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=sl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ip(a)?{documents:R2(i,a)}:{query:Qb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=S2(i,s.resumeToken);const u=zb(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(L.min())>0){o.readTime=Da(i,s.snapshotVersion.toTimestamp());const u=zb(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function ise(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=sl(this.serializer),n.removeTarget=e,this.Wo(n)}}class zse extends TB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function rse(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=Xe(r.updateTime?r.updateTime:i);return s.isEqual(L.min())&&(s=Xe(i)),new Hie(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xe(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=sl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function ol(t,e){let n;if(e instanceof Ia)n={update:N2(t,e.key,e.value)};else if(e instanceof Ea)n={delete:il(t,e.key)};else if(e instanceof ii)n={update:N2(t,e.key,e.data),updateMask:use(e.fieldMask)};else{if(!(e instanceof Bb))return P();n={verify:il(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof va)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ese(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class qse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Kse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ye(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Qse{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Wi(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield Ma(l),l.bu.set("Unknown"),l.vu.delete(4),yield ml(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Kse(r,i)}}function ml(t){return wC.apply(this,arguments)}function wC(){return wC=g(function*(t){if(Wi(t))for(const e of t.Ru)yield e(!0)}),wC.apply(this,arguments)}function Ma(t){return IC.apply(this,arguments)}function IC(){return IC=g(function*(t){for(const e of t.Ru)yield e(!1)}),IC.apply(this,arguments)}function Mp(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),bC(n)?DC(n):Na(n).Ko()&&EC(n,e))}function yl(t,e){const n=x(t),r=Na(n);n.Au.delete(e),r.Ko()&&SB(n,e),0===n.Au.size&&(r.Ko()?r.jo():Wi(n)&&n.bu.set("Unknown"))}function EC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(L.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).su(e)}function SB(t,e){t.Vu.qt(e),Na(t).iu(e)}function DC(t){t.Vu=new Qie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.bu.gu()}function bC(t){return Wi(t)&&!Na(t).Uo()&&t.Au.size>0}function Wi(t){return 0===x(t).vu.size}function AB(t){t.Vu=void 0}function Yse(t){return CC.apply(this,arguments)}function CC(){return CC=g(function*(t){t.Au.forEach((e,n)=>{EC(t,e)})}),CC.apply(this,arguments)}function Jse(t,e){return TC.apply(this,arguments)}function TC(){return TC=g(function*(t,e){AB(t),bC(t)?(t.bu.Iu(e),DC(t)):t.bu.set("Unknown")}),TC.apply(this,arguments)}function Xse(t,e,n){return SC.apply(this,arguments)}function SC(){return SC=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof D2&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xp(t,r)}else if(e instanceof hp?t.Vu.Ht(e):e instanceof E2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(L.min()))try{const r=yield mB(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(lt.EMPTY_BYTE_STRING,c.snapshotVersion)),SB(i,a);const l=new si(c.target,a,u,c.sequenceNumber);EC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield xp(t,r)}var r}),SC.apply(this,arguments)}function xp(t,e,n){return AC.apply(this,arguments)}function AC(){return AC=g(function*(t,e,n){if(!Fi(e))throw e;t.vu.add(1),yield Ma(t),t.bu.set("Offline"),n||(n=()=>mB(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield ml(t)}))}),AC.apply(this,arguments)}function MB(t,e){return e().catch(n=>xp(t,n,e))}function xa(t){return MC.apply(this,arguments)}function MC(){return MC=g(function*(t){const e=x(t),n=Ki(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Zse(e);)try{const i=yield Lse(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,eoe(e,i)}catch(i){yield xp(e,i)}xB(e)&&NB(e)}),MC.apply(this,arguments)}function Zse(t){return Wi(t)&&t.Eu.length<10}function eoe(t,e){t.Eu.push(e);const n=Ki(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function xB(t){return Wi(t)&&!Ki(t).Uo()&&t.Eu.length>0}function NB(t){Ki(t).start()}function toe(t){return xC.apply(this,arguments)}function xC(){return xC=g(function*(t){Ki(t).hu()}),xC.apply(this,arguments)}function noe(t){return NC.apply(this,arguments)}function NC(){return NC=g(function*(t){const e=Ki(t);for(const n of t.Eu)e.uu(n.mutations)}),NC.apply(this,arguments)}function roe(t,e,n){return kC.apply(this,arguments)}function kC(){return kC=g(function*(t,e,n){const r=t.Eu.shift(),i=jb.from(r,e,n);yield MB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xa(t)}),kC.apply(this,arguments)}function ioe(t,e){return RC.apply(this,arguments)}function RC(){return RC=g(function*(t,e){var n;e&&Ki(t).ou&&(yield(n=g(function*(r,i){if(function y2(t){switch(t){default:return P();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();Ki(r).Qo(),yield MB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield xa(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),xB(t)&&NB(t)}),RC.apply(this,arguments)}function kB(t,e){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Wi(n);n.vu.add(3),yield Ma(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ml(n)}),PC.apply(this,arguments)}function FC(){return FC=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield ml(n)):e||(n.vu.add(2),yield Ma(n),n.bu.set("Unknown"))}),FC.apply(this,arguments)}function Na(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Gse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Yse.bind(null,t),ao:Jse.bind(null,t),nu:Xse.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),bC(t)?DC(t):t.bu.set("Unknown")):(yield t.Su.stop(),AB(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ki(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new zse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:toe.bind(null,t),ao:ioe.bind(null,t),au:noe.bind(null,t),cu:roe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield xa(t)):(yield t.Du.stop(),t.Eu.length>0&&(C("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class LC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new LC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ka(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Fi(t))return new D(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ra{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Jc(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new Ra(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class RB{constructor(){this.Cu=new Se(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Pa(e,n,Ra.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class soe{constructor(){this.Nu=void 0,this.listeners=[]}}class ooe{constructor(){this.queries=new ri(e=>XV(e),Qc),this.onlineState="Unknown",this.ku=new Set}}function VC(t,e){return BC.apply(this,arguments)}function BC(){return BC=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new soe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ka(o,`Initialization of query '${Lb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&$C(n)}),BC.apply(this,arguments)}function UC(t,e){return jC.apply(this,arguments)}function jC(){return jC=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),jC.apply(this,arguments)}function aoe(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&$C(n)}function uoe(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $C(t){t.ku.forEach(e=>{e.next()})}class HC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class FB{constructor(e){this.key=e}}class LB{constructor(e){this.key=e}}class VB{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Z(),this.mutatedKeys=Z(),this.tc=e2(e),this.ec=new Ra(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new RB,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Yc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Pa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new RB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Z(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new LB(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new FB(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Z();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Pa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class doe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hoe{constructor(e){this.key=e,this.fc=!1}}class foe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ri(a=>XV(a),Qc),this._c=new Map,this.mc=new Set,this.gc=new Se(M.comparator),this.yc=new Map,this.Ic=new rC,this.Tc={},this.Ec=new Map,this.Ac=Gs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function poe(t,e){return GC.apply(this,arguments)}function GC(){return GC=g(function*(t,e){const n=function fT(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Doe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yoe.bind(null,e),e.dc.nu=aoe.bind(null,e.eventManager),e.dc.Pc=uoe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Sa(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,rn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function zC(t,e,n,r,i){return qC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Mp(n.remoteStore,o)}return i}),GC.apply(this,arguments)}function qC(){return qC=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,I,_){let b=y.view.sc(I);b.zi&&(b=yield bp(m.localStore,y.query,!1).then(({documents:J})=>y.view.sc(J,b)));const R=_&&_.targetChanges.get(y.targetId),F=y.view.applyChanges(b,m.isPrimaryClient,R);return nT(m,y.targetId,F.cc),F.snapshot}),function(m,y,I,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield bp(t.localStore,e,!0),o=new VB(e,s.ir),a=o.sc(s.documents),u=rl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);nT(t,n,c.cc);const l=new doe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),qC.apply(this,arguments)}function goe(t,e){return WC.apply(this,arguments)}function WC(){return WC=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Qc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Aa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yl(n.remoteStore,r.targetId),Oa(n,r.targetId)}).catch(Oi))):(Oa(n,r.targetId),yield Aa(n.localStore,r.targetId,!0))}),WC.apply(this,arguments)}function KC(){return KC=g(function*(t,e,n){const r=function pT(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_oe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=voe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=Be.now(),c=o.reduce((h,f)=>h.add(f.key),Z());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=gn(),p=Z();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const _=zie(I,l.get(I.key).overlayedDocument);null!=_&&y.push(new ii(I.key,_,VV(_.value.mapValue),Fe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:n2(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Se(z)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield oi(r,i.changes),yield xa(r.remoteStore)}catch(i){const s=ka(i,"Failed to persist write");n.reject(s)}}),KC.apply(this,arguments)}function BB(t,e){return QC.apply(this,arguments)}function QC(){return QC=g(function*(t,e){const n=x(t);try{const r=yield function Fse(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(lt.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=gn(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function yB(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(L.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(L.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield oi(n,r,e)}catch(r){yield Oi(r)}}),QC.apply(this,arguments)}function UB(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&$C(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yoe(t,e,n){return YC.apply(this,arguments)}function YC(){return YC=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Se(M.comparator);o=o.insert(s,Ne.newNoDocument(s,L.min()));const a=Z().add(s),u=new nl(L.min(),new Map,new Se(z),o,a);yield BB(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),rT(r)}else yield Aa(r.localStore,e,!1).then(()=>Oa(r,e,n)).catch(Oi)}),YC.apply(this,arguments)}function _oe(t,e){return JC.apply(this,arguments)}function JC(){return JC=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function Ose(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);O(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);tT(n,r,null),eT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield oi(n,i)}catch(i){yield Oi(i)}}),JC.apply(this,arguments)}function voe(t,e,n){return XC.apply(this,arguments)}function XC(){return XC=g(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(O(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);tT(r,e,n),eT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield oi(r,i)}catch(i){yield Oi(i)}}),XC.apply(this,arguments)}function eT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function tT(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Oa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||jB(t,r)})}function jB(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(yl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),rT(t))}function nT(t,e,n){for(const r of n)r instanceof FB?(t.Ic.addReference(r.key,e),Ioe(t,r)):r instanceof LB?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||jB(t,r.key)):P()}function Ioe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),rT(t))}function rT(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new hoe(n)),t.gc=t.gc.insert(n,r),Mp(t.remoteStore,new si(rn(_a(n.path)),r,"TargetPurposeLimboResolution",Tn.ct))}}function oi(t,e,n){return iT.apply(this,arguments)}function iT(){return iT=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=uC.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fi(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),iT.apply(this,arguments)}function Eoe(t,e){return sT.apply(this,arguments)}function sT(){return sT=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield gB(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oi(n,r.er)}var i}),sT.apply(this,arguments)}function Doe(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return Z().add(r.key);{let i=Z();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Fa{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=gl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function pB(t,e,n,r){return new Pse(t,e,n,r)}(this.persistence,new fB,e.initialUser,this.serializer)}createPersistence(e){return new iC(Ip.zs,this.serializer)}createSharedClientState(e){return new DB}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class La{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>UB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Eoe.bind(null,r.syncEngine),yield function OC(t,e){return FC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ooe}createDatastore(e){const n=gl(e.databaseInfo.databaseId),r=new Hse(e.databaseInfo);return new qse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>UB(this.syncEngine,a,0),o=bB.D()?new bB:new Use,new Qse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new foe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=g(function*(n){const r=x(n);C("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ma(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Foe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=pV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ka(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function kp(t,e){return mT.apply(this,arguments)}function mT(){return mT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield gB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),mT.apply(this,arguments)}function yT(t,e){return _T.apply(this,arguments)}function _T(){return _T=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function vT(t){return wT.apply(this,arguments)}(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kB(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kB(e.remoteStore,s)),t._onlineComponents=e}),_T.apply(this,arguments)}function wT(){return wT=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function qB(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Qn("Error using user provided cache. Falling back to memory cache: "+n),yield kp(t,new Fa)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield kp(t,new Fa);return t._offlineComponents}),wT.apply(this,arguments)}function Rp(t){return IT.apply(this,arguments)}function IT(){return IT=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield yT(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield yT(t,new La))),t._onlineComponents}),IT.apply(this,arguments)}function Va(t){return DT.apply(this,arguments)}function DT(){return DT=g(function*(t){const e=yield Rp(t),n=e.eventManager;return n.onListen=poe.bind(null,e.syncEngine),n.onUnlisten=goe.bind(null,e.syncEngine),n}),DT.apply(this,arguments)}function XB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ZB=new Map;function bT(t,e,n){if(!n)throw new D(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eU(t){if(!M.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tU(t){if(M.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Op(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Op(t);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class rU{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zoe(t,e,n,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=XB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _l{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new zre;switch(n.type){case"firstParty":return new Qre(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ZB.get(e);n&&(C("ComponentProvider","Removing Datastore"),ZB.delete(e),n.terminate())}(this),Promise.resolve()}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class Mt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mt(this.firestore,e,this._query)}}class br extends Mt{constructor(e,n,r){super(e,n,_a(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new M(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Woe(t,e,...n){if(t=ut(t),bT("collection","path",e),t instanceof _l){const r=ue.fromString(e,...n);return tU(r),new br(t,null,r)}{if(!(t instanceof Ze||t instanceof br))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return tU(r),new br(t.firestore,null,r)}}function iU(t,e,...n){if(t=ut(t),1===arguments.length&&(e=pV.A()),bT("doc","path",e),t instanceof _l){const r=ue.fromString(e,...n);return eU(r),new Ze(t,null,new M(r))}{if(!(t instanceof Ze||t instanceof br))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return eU(r),new Ze(t.firestore,t instanceof br?t.converter:null,new M(r))}}class Koe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _C(this,"async_queue_retry"),this.Xc=()=>{const n=Ap();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ap();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ap();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Fi(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=LC.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function CT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class ke extends _l{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Koe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oU(this),this._firestoreClient.terminate()}}function Yoe(t,e){const r="string"==typeof t?t:e||"(default)",i=Hh("object"==typeof t?t:iP(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Vh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function qoe(t,e,n,r={}){var i;const s=(t=ie(t,_l))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=gt.MOCK_USER;else{a=function OK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fh(JSON.stringify({alg:"none",type:"JWT"})),Fh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gt(c)}t._authCredentials=new qre(new hV(a,u))}}(i,...s)}return i}function it(t){return t._firestoreClient||oU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oU(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new bie(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,XB(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Foe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(lt.fromBase64String(e))}catch(n){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ws{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ba{constructor(e){this._methodName=e}}class TT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}}const Xoe=/^__.*__$/;class Zoe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ia(e,this.data,n,this.fieldTransforms)}}class cU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Fp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Bp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(lU(this.ca)&&Xoe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class eae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gl(e)}ya(e,n,r,i=!1){return new Fp({ca:e,methodName:n,ga:r,path:Je.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ks(t){const e=t._freezeSettings(),n=gl(t._databaseId);return new eae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lp(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);xT("Data must be an object, but it was:",o,r);const a=fU(r,o);let u,c;if(s.merge)u=new pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Il(e,d,n);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gU(l,h)||l.push(h)}u=new pn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Zoe(new At(a),u,c)}class wl extends Ba{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wl}}function Qs(t,e){if(pU(t=ut(t)))return xT("Unsupported field value:",e,t),fU(t,e);if(t instanceof Ba)return function(n,r){if(!lU(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Qs(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=ut(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return o2(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Be.fromDate(n);return{timestampValue:Da(r.serializer,i)}}if(n instanceof Be){const i=new Be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Da(r.serializer,i)}}if(n instanceof TT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qs)return{bytesValue:S2(r.serializer,n._byteString)};if(n instanceof Ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Op(n)}`)}(t,e)}function fU(t,e){const n={};return MV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{const s=Qs(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function pU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof TT||t instanceof qs||t instanceof Ze||t instanceof Ba)}function xT(t,e,n){if(!pU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Op(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Il(t,e,n){if((e=ut(e))instanceof Ws)return e._internalPath;if("string"==typeof e)return Vp(t,e);throw Bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const iae=new RegExp("[~\\*/\\[\\]]");function Vp(t,e,n){if(e.search(iae)>=0)throw Bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ws(...e.split("."))._internalPath}catch{throw Bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(w.INVALID_ARGUMENT,a+t+u)}function gU(t,e){return t.some(n=>n.isEqual(e))}class El{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class sae extends El{data(){return super.data()}}function Up(t,e){return"string"==typeof e?Vp(t,e):e instanceof Ws?e._internalPath:e._delegate._internalPath}class DU{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new TT(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ep(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);O(L2(r));const i=new Rs(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ys{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends El{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zp extends ja{data(e={}){return super.data(e)}}class $a{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ys(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zp(this._firestore,this._userDataWriter,r.key,r,new Ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ys(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ys(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:uae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function cae(t){t=ie(t,Ze);const e=ie(t.firestore,ke);return function YB(t,e,n={}){const r=new ct;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Np({next:d=>{s.enqueueAndForget(()=>UC(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new D(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new D(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new HC(_a(o.path),c,{includeMetadataChanges:!0,Ku:!0});return VC(i,l)}(yield Va(t),t.asyncQueue,e,n,r)})),r.promise}(it(e),t._key).then(n=>RT(e,t,n))}class Qi extends DU{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function lae(t,e,n){t=ie(t,Ze);const r=ie(t.firestore,ke),i=function Gp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Cl(r,[Lp(Ks(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Fe.none())])}function dae(t,e,n,...r){t=ie(t,Ze);const i=ie(t.firestore,ke),s=Ks(i);let o;return o="string"==typeof(e=ut(e))||e instanceof Ws?function MT(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Il(e,r,n)],u=[i];if(s.length%2!=0)throw new D(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Il(e,s[h])),u.push(s[h+1]);const c=[],l=At.empty();for(let h=a.length-1;h>=0;--h)if(!gU(c,a[h])){const f=a[h];let p=u[h];p=ut(p);const m=o.da(f);if(p instanceof wl)c.push(f);else{const y=Qs(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new pn(c);return new cU(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function AT(t,e,n,r){const i=t.ya(1,e,n);xT("Data must be an object, but it was:",i,r);const s=[],o=At.empty();Li(r,(u,c)=>{const l=Vp(e,u,n);c=ut(c);const d=i.da(l);if(c instanceof wl)s.push(l);else{const h=Qs(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new pn(s);return new cU(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Cl(i,[o.toMutation(t._key,Fe.exists(!0))])}function hae(t,...e){var n,r,i;t=ut(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||CT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(CT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ze)c=ie(t.firestore,ke),l=_a(t._key.path),u={next:d=>{e[o]&&e[o](RT(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ie(t,Mt);c=ie(d.firestore,ke),l=d._query;const h=new Qi(c);u={next:f=>{e[o]&&e[o](new $a(c,h,d,f))},error:e[o+1],complete:e[o+2]},function mU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Np(p),y=new HC(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return VC(yield Va(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return UC(yield Va(d),y)}))}}(it(c),l,a,u)}function Cl(t,e){return function(n,r){const i=new ct;return n.asyncQueue.enqueueAndForget(g(function*(){return function moe(t,e,n){return KC.apply(this,arguments)}(yield function ET(t){return Rp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(it(t),e)}function RT(t,e,n){const r=n.docs.get(e._key),i=new Qi(t);return new ja(t,i,e._key,r,new Ys(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){ha=Zu,en(new Vt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ke(new Wre(n.getProvider("auth-internal")),new Yre(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qe(dV,"3.13.0",t),Qe(dV,"3.13.0","esm2017")}();class qp{constructor(e){return e}}const CU="firestore",PT=new V("angularfire2.firestore-instances");function Tae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qp(r)}}const Sae={provide:class bae{constructor(){return oI(CU)}},deps:[[new wn,PT]]},Aae={provide:qp,useFactory:function Cae(t,e){const n=function sI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(CU,t,e);return n&&new qp(n)},deps:[[new wn,PT],Zo]};let Mae=(()=>{class t{constructor(){Qe("angularfire",Jw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=Ln({providers:[Aae,Sae]}),t})();function xae(t,...e){return{ngModule:Mae,providers:[{provide:PT,useFactory:Tae(t),multi:!0,deps:[Ae,In,vO,wO,[new wn,TF],[new wn,KF],...e]}]}}const Tl=Ai(Woe,!0),Wp=Ai(iU,!0),Nae=Ai(cae,!0),kae=Ai(Yoe,!0),OT=Ai(hae,!0),FT=Ai(lae,!0),Rae=Ai(dae,!0),Pae={apiKey:"AIzaSyChC2APgSrcX4qVB3TLV-A30J3TJchgbeA",authDomain:"webrtc-6a829.firebaseapp.com",databaseURL:"https://webrtc-6a829-default-rtdb.firebaseio.com",projectId:"webrtc-6a829",storageBucket:"webrtc-6a829.firebasestorage.app",messagingSenderId:"341036198712",appId:"1:341036198712:web:afc2a1e2abc39181ed2fcd",measurementId:"G-CGC7DG2JJG"};let Oae=(()=>{class t{constructor(n){this.firestore=n,this.localStream=null,this.remoteStream=null,this.pc=new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10})}startWebcam(){var n=this;return g(function*(){return n.localStream=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),n.remoteStream=new MediaStream,n.localStream.getTracks().forEach(r=>{n.pc.addTrack(r,n.localStream)}),n.pc.ontrack=r=>{r.streams[0].getTracks().forEach(s=>{n.remoteStream.addTrack(s)});const i=document.getElementById("remoteVideo");i&&(i.srcObject=n.remoteStream)},n.localStream})()}createOffer(){var n=this;return g(function*(){const r=Wp(Tl(n.firestore,"calls")),i=Tl(r,"offerCandidates"),s=Tl(r,"answerCandidates");n.pc.onicecandidate=u=>{if(u.candidate){const c=Wp(i);FT(c,u.candidate.toJSON())}};const o=yield n.pc.createOffer();yield n.pc.setLocalDescription(o);const a={sdp:o.sdp,type:o.type};return yield FT(r,{offer:a}),OT(r,u=>{const c=u.data();if(!n.pc.currentRemoteDescription&&c?.answer){const l=new RTCSessionDescription(c.answer);n.pc.setRemoteDescription(l)}}),OT(s,u=>{u.docChanges().forEach(c=>{if("added"===c.type){const l=new RTCIceCandidate(c.doc.data());n.pc.addIceCandidate(l)}})}),r.id})()}answerCall(n){var r=this;return g(function*(){const i=Wp(r.firestore,"calls",n),s=Tl(i,"answerCandidates"),o=Tl(i,"offerCandidates");r.pc.onicecandidate=d=>{if(d.candidate){const h=Wp(s);FT(h,d.candidate.toJSON())}};const u=(yield Nae(i)).data().offer;if(!u)throw new Error("No offer found in the call document.");yield r.pc.setRemoteDescription(new RTCSessionDescription(u));const c=yield r.pc.createAnswer();yield r.pc.setLocalDescription(c);const l={type:c.type,sdp:c.sdp};yield Rae(i,{answer:l}),OT(o,d=>{d.docChanges().forEach(h=>{if("added"===h.type){const f=h.doc.data();r.pc.addIceCandidate(new RTCIceCandidate(f))}})})})()}getLocalStream(){return this.localStream}getRemoteStream(){return this.remoteStream}hangup(){this.pc.close(),this.localStream?.getTracks().forEach(n=>n.stop()),this.remoteStream?.getTracks().forEach(n=>n.stop()),this.localStream=null,this.remoteStream=null}static{this.\u0275fac=function(r){return new(r||t)(ee(qp))}}static{this.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Fae(t,e){if(1&t&&(B(0,"div",7),G(1),U()),2&t){const n=hx();sr(1),Nu(" ",n.errorMessage,"\n")}}function Lae(t,e){1&t&&(B(0,"div",8),G(1," Loading...\n"),U())}let Vae=(()=>{class t{constructor(n){this.webRTCService=n,this.callInput="",this.errorMessage="",this.loading=!1}startWebcam(){var n=this;return g(function*(){n.loading=!0,n.errorMessage="";try{const r=yield n.webRTCService.startWebcam();document.getElementById("webcamVideo").srcObject=r}catch(r){n.errorMessage=r instanceof Error?r.message:"Failed to start webcam."}finally{n.loading=!1}})()}createCall(){var n=this;return g(function*(){n.loading=!0,n.errorMessage="";try{const r=yield n.webRTCService.createOffer();n.callInput=r}catch(r){n.errorMessage=r instanceof Error?r.message:"Failed to create call."}finally{n.loading=!1}})()}answerCall(){var n=this;return g(function*(){n.loading=!0,n.errorMessage="";try{yield n.webRTCService.answerCall(n.callInput),document.getElementById("remoteVideo").srcObject=n.webRTCService.getRemoteStream()}catch(r){n.errorMessage=r instanceof Error?r.message:"Failed to answer call."}finally{n.loading=!1}})()}hangup(){this.webRTCService.hangup();const n=document.getElementById("webcamVideo"),r=document.getElementById("remoteVideo");n.srcObject=null,r.srcObject=null}static{this.\u0275fac=function(r){return new(r||t)(T(Oae))}}static{this.\u0275cmp=Zs({type:t,selectors:[["app-webrtc"]],decls:30,vars:7,consts:[[1,"videos"],["id","webcamVideo","autoplay","","playsinline",""],["id","remoteVideo","autoplay","","playsinline","","muted",""],[3,"disabled","click"],["placeholder","Enter Call ID",3,"ngModel","ngModelChange"],["class","error-message",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"error-message"],[1,"loading-spinner"]],template:function(r,i){1&r&&(B(0,"h2"),G(1,"1. Start your Webcam"),U(),B(2,"div",0)(3,"span")(4,"h3"),G(5,"Local Stream"),U(),et(6,"video",1),U(),B(7,"span")(8,"h3"),G(9,"Remote Stream"),U(),et(10,"video",2),U()(),B(11,"button",3),Ot("click",function(){return i.startWebcam()}),G(12,"Start webcam"),U(),B(13,"h2"),G(14,"2. Create a new Call"),U(),B(15,"button",3),Ot("click",function(){return i.createCall()}),G(16,"Create Call (offer)"),U(),B(17,"h2"),G(18,"3. Join a Call"),U(),B(19,"p"),G(20,"Answer the call from a different browser window or device"),U(),B(21,"input",4),Ot("ngModelChange",function(o){return i.callInput=o}),U(),B(22,"button",3),Ot("click",function(){return i.answerCall()}),G(23,"Answer"),U(),B(24,"h2"),G(25,"4. Hangup"),U(),B(26,"button",3),Ot("click",function(){return i.hangup()}),G(27,"Hangup"),U(),ay(28,Fae,2,1,"div",5),ay(29,Lae,2,0,"div",6)),2&r&&(sr(11),Br("disabled",i.loading),sr(4),Br("disabled",i.loading),sr(6),Br("ngModel",i.callInput),sr(1),Br("disabled",i.loading),sr(4),Br("disabled",i.loading),sr(2),Br("ngIf",i.errorMessage),sr(1),Br("ngIf",i.loading))},dependencies:[fk,bh,lR,P_],styles:[".videos[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:20px}video[_ngcontent-%COMP%]{width:45%;border:1px solid #ccc;background:#000}button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px}.error-message[_ngcontent-%COMP%]{color:red;margin:10px 0}.loading-spinner[_ngcontent-%COMP%]{margin:10px 0;font-size:18px}"]})}}return t})(),Bae=(()=>{class t{constructor(){this.name="Kacem",this.status=!1}add(){console.log("hello arctic8")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Zs({type:t,selectors:[["app-home"]],decls:4,vars:1,template:function(r,i){1&r&&(B(0,"p"),G(1,"home works!"),U(),G(2),et(3,"br")),2&r&&(sr(2),Nu("\n",i.name,"\n"))}})}}return t})(),Uae=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Zs({type:t,selectors:[["app-header"]],decls:36,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["aria-disabled","true",1,"nav-link","disabled"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"]],template:function(r,i){1&r&&(B(0,"nav",0)(1,"div",1)(2,"a",2),G(3,"Navbar"),U(),B(4,"button",3),et(5,"span",4),U(),B(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),G(10,"Home"),U()(),B(11,"li",7)(12,"a",9),G(13,"Link"),U()(),B(14,"li",10)(15,"a",11),G(16," Dropdown "),U(),B(17,"ul",12)(18,"li")(19,"a",13),G(20,"Action"),U()(),B(21,"li")(22,"a",13),G(23,"Another action"),U()(),B(24,"li"),et(25,"hr",14),U(),B(26,"li")(27,"a",13),G(28,"Something else here"),U()()()(),B(29,"li",7)(30,"a",15),G(31,"Disabled"),U()()(),B(32,"form",16),et(33,"input",17),B(34,"button",18),G(35,"Search"),U()()()()())},dependencies:[bR,dR,Oh]})}}return t})(),jae=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Zs({type:t,selectors:[["app-footer"]],decls:76,vars:0,consts:[[1,"text-center","text-lg-start","bg-body-tertiary","text-muted"],[1,"d-flex","justify-content-center","justify-content-lg-between","p-4","border-bottom"],[1,"me-5","d-none","d-lg-block"],["href","",1,"me-4","text-reset"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-google"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin"],[1,"fab","fa-github"],[1,""],[1,"container","text-center","text-md-start","mt-5"],[1,"row","mt-3"],[1,"col-md-3","col-lg-4","col-xl-3","mx-auto","mb-4"],[1,"text-uppercase","fw-bold","mb-4"],[1,"fas","fa-gem","me-3"],[1,"col-md-2","col-lg-2","col-xl-2","mx-auto","mb-4"],["href","#!",1,"text-reset"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mb-4"],[1,"col-md-4","col-lg-3","col-xl-3","mx-auto","mb-md-0","mb-4"],[1,"fas","fa-home","me-3"],[1,"fas","fa-envelope","me-3"],[1,"fas","fa-phone","me-3"],[1,"fas","fa-print","me-3"],[1,"text-center","p-4",2,"background-color","rgba(0, 0, 0, 0.05)"],["href","https://mdbootstrap.com/",1,"text-reset","fw-bold"]],template:function(r,i){1&r&&(B(0,"footer",0)(1,"section",1)(2,"div",2)(3,"span"),G(4,"Get connected with us on social networks:"),U()(),B(5,"div")(6,"a",3),et(7,"i",4),U(),B(8,"a",3),et(9,"i",5),U(),B(10,"a",3),et(11,"i",6),U(),B(12,"a",3),et(13,"i",7),U(),B(14,"a",3),et(15,"i",8),U(),B(16,"a",3),et(17,"i",9),U()()(),B(18,"section",10)(19,"div",11)(20,"div",12)(21,"div",13)(22,"h6",14),et(23,"i",15),G(24,"Company name "),U(),B(25,"p"),G(26," Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet, consectetur adipisicing elit. "),U()(),B(27,"div",16)(28,"h6",14),G(29," Products "),U(),B(30,"p")(31,"a",17),G(32,"Angular"),U()(),B(33,"p")(34,"a",17),G(35,"React"),U()(),B(36,"p")(37,"a",17),G(38,"Vue"),U()(),B(39,"p")(40,"a",17),G(41,"Laravel"),U()()(),B(42,"div",18)(43,"h6",14),G(44," Useful links "),U(),B(45,"p")(46,"a",17),G(47,"Pricing"),U()(),B(48,"p")(49,"a",17),G(50,"Settings"),U()(),B(51,"p")(52,"a",17),G(53,"Orders"),U()(),B(54,"p")(55,"a",17),G(56,"Help"),U()()(),B(57,"div",19)(58,"h6",14),G(59,"Contact"),U(),B(60,"p"),et(61,"i",20),G(62," New York, NY 10012, US"),U(),B(63,"p"),et(64,"i",21),G(65," info@example.com "),U(),B(66,"p"),et(67,"i",22),G(68," + 01 234 567 88"),U(),B(69,"p"),et(70,"i",23),G(71," + 01 234 567 89"),U()()()()(),B(72,"div",24),G(73," \xa9 2021 Copyright: "),B(74,"a",25),G(75,"MDBootstrap.com"),U()()())}})}}return t})(),$ae=(()=>{class t{constructor(){this.title="firstProject"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Zs({type:t,selectors:[["app-root"]],decls:5,vars:0,template:function(r,i){1&r&&(G(0,"Hello arctic 8 "),et(1,"app-header")(2,"app-home")(3,"app-footer")(4,"app-webrtc"))},dependencies:[Vae,Bae,Uae,jae]})}}return t})(),Hae=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t,bootstrap:[$ae]})}static{this.\u0275inj=Ln({imports:[u8,IK,wZ(()=>IZ(Pae)),xae(()=>kae())]})}}return t})();o8().bootstrapModule(Hae).catch(t=>console.error(t))}},Re=>{Re(Re.s=941)}]);